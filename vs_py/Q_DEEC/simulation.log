2025-06-04 17:22:11,382 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 17.870530129028957}
2025-06-04 17:22:11,384 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 17.870530129028957, -1: 0.0}
2025-06-04 17:22:11,386 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 17.870530129028957, -1: 0.0, 12: 0.0}
2025-06-04 17:22:11,387 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 17.870530129028957, -1: 0.0, 12: 0.0, 13: 3.855366864393274}
2025-06-04 17:22:11,387 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:11,398 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:11,398 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:11,400 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:11,414 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:11,414 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9992) 开始决策...
2025-06-04 17:22:11,415 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:11,415 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9904) 开始决策...
2025-06-04 17:22:11,416 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:11,418 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0}
2025-06-04 17:22:11,420 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 16.90879657391004}
2025-06-04 17:22:11,420 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 16.90879657391004, 5: 0.0}
2025-06-04 17:22:11,421 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 16.90879657391004, 5: 0.0, 0: 0.0}
2025-06-04 17:22:11,423 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 16.90879657391004, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:11,425 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 59, 类型: <class 'int'>
2025-06-04 17:22:11,426 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 59
2025-06-04 17:22:11,426 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:11,428 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 59 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:11,444 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 59. END of try block.
2025-06-04 17:22:11,444 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9991) 开始决策...
2025-06-04 17:22:11,445 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:11,446 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9917) 开始决策...
2025-06-04 17:22:11,446 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:11,446 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0}
2025-06-04 17:22:11,448 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 19.81282755270348}
2025-06-04 17:22:11,448 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 19.81282755270348, 29: 0.0}
2025-06-04 17:22:11,450 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 19.81282755270348, 29: 0.0, -1: 0.0}
2025-06-04 17:22:11,450 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 19.81282755270348, 29: 0.0, -1: 0.0, 5: 0.0}
2025-06-04 17:22:11,451 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 19.81282755270348, 29: 0.0, -1: 0.0, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:11,452 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:11,453 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:11,454 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:11,454 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:11,471 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:11,472 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9705) 开始决策...
2025-06-04 17:22:11,473 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:11,474 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:11,474 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 48.51047518483802}
2025-06-04 17:22:11,475 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:11,475 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:11,492 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:11,492 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.9512) 开始决策...
2025-06-04 17:22:11,493 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:11,494 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 52.938593379169745}
2025-06-04 17:22:11,494 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 52.938593379169745, 20: 0.0}
2025-06-04 17:22:11,495 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 20, 类型: <class 'int'>
2025-06-04 17:22:11,495 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 20
2025-06-04 17:22:11,510 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 20. END of try block.
2025-06-04 17:22:11,510 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9963) 开始决策...
2025-06-04 17:22:11,511 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:11,513 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 6.410281116274322}
2025-06-04 17:22:11,513 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:11,514 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:11,527 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:11,528 - WSN_Simulation - INFO - --- 第 6 轮结束 ---
2025-06-04 17:22:11,530 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 7)...
2025-06-04 17:22:12,073 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0007.png
2025-06-04 17:22:12,074 - WSN_Simulation - INFO - --- 开始第 7 轮  ---
2025-06-04 17:22:12,075 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:12,076 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:13,528 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，15 个节点切换了CH。
2025-06-04 17:22:13,529 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:13,530 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9992) 开始决策...
2025-06-04 17:22:13,531 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:13,531 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9967) 开始决策...
2025-06-04 17:22:13,532 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:13,533 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:13,533 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:13,534 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 16.629270510658138}
2025-06-04 17:22:13,534 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 16.629270510658138, 13: 0.0}
2025-06-04 17:22:13,535 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 16.629270510658138, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:13,535 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 16.629270510658138, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:13,536 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:13,536 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:13,536 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:13,537 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:13,553 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:13,555 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9907) 开始决策...
2025-06-04 17:22:13,556 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:13,558 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:13,559 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 22.50295502539071}
2025-06-04 17:22:13,561 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 22.50295502539071, 59: 0.0}
2025-06-04 17:22:13,561 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 22.50295502539071, 59: 0.0, 65: 0.0}
2025-06-04 17:22:13,562 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 22.50295502539071, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:13,563 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 22.50295502539071, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:13,563 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 22.50295502539071, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:13,564 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:13,564 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:13,565 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:13,566 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:13,675 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:13,675 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9919) 开始决策...
2025-06-04 17:22:13,677 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:13,678 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 21.31482550398312}
2025-06-04 17:22:13,679 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 21.31482550398312, -1: 0.0}
2025-06-04 17:22:13,679 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 21.31482550398312, -1: 0.0, 12: 0.0}
2025-06-04 17:22:13,680 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 21.31482550398312, -1: 0.0, 12: 0.0, 13: 3.855366864393274}
2025-06-04 17:22:13,680 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:13,680 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:13,680 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:13,681 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: *** 选择了BS (-1) ***
2025-06-04 17:22:13,698 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:13,699 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9990) 开始决策...
2025-06-04 17:22:13,700 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:13,701 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9889) 开始决策...
2025-06-04 17:22:13,702 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:13,703 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0}
2025-06-04 17:22:13,704 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 6.739708608170936}
2025-06-04 17:22:13,705 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 6.739708608170936, 5: 0.0}
2025-06-04 17:22:13,705 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 6.739708608170936, 5: 0.0, 0: 0.0}
2025-06-04 17:22:13,706 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 6.739708608170936, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:13,706 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 59, 类型: <class 'int'>
2025-06-04 17:22:13,707 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 59
2025-06-04 17:22:13,707 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:13,708 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 59 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:13,725 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 59. END of try block.
2025-06-04 17:22:13,725 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9990) 开始决策...
2025-06-04 17:22:13,726 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:13,726 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9908) 开始决策...
2025-06-04 17:22:13,727 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:13,728 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0}
2025-06-04 17:22:13,730 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697}
2025-06-04 17:22:13,731 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697, 29: 0.0}
2025-06-04 17:22:13,731 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697, 29: 0.0, -1: 0.0}
2025-06-04 17:22:13,732 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697, 29: 0.0, -1: 0.0, 5: 0.0}
2025-06-04 17:22:13,732 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697, 29: 0.0, -1: 0.0, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:13,733 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:13,733 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:13,734 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:13,734 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: *** 选择了BS (-1) ***
2025-06-04 17:22:13,749 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:13,751 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9647) 开始决策...
2025-06-04 17:22:13,752 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:13,753 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:13,754 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 57.90088746342565}
2025-06-04 17:22:13,755 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:13,757 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:13,776 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:13,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.9450) 开始决策...
2025-06-04 17:22:13,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:13,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 52.938593379169745}
2025-06-04 17:22:13,779 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 52.938593379169745, 20: 1.6066031720241718}
2025-06-04 17:22:13,780 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:13,780 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:13,794 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:13,795 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9957) 开始决策...
2025-06-04 17:22:13,796 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:13,796 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 9.582187229362278}
2025-06-04 17:22:13,796 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:13,796 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:13,811 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:13,812 - WSN_Simulation - INFO - --- 第 7 轮结束 ---
2025-06-04 17:22:13,812 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 8)...
2025-06-04 17:22:14,338 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0008.png
2025-06-04 17:22:14,340 - WSN_Simulation - INFO - --- 开始第 8 轮  ---
2025-06-04 17:22:14,340 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:14,341 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:15,780 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，9 个节点切换了CH。
2025-06-04 17:22:15,780 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:15,780 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9991) 开始决策...
2025-06-04 17:22:15,781 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:15,781 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9963) 开始决策...
2025-06-04 17:22:15,782 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:15,782 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:15,783 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:15,783 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 19.02711621499711}
2025-06-04 17:22:15,783 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 19.02711621499711, 13: 0.0}
2025-06-04 17:22:15,784 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 19.02711621499711, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:15,784 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 19.02711621499711, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:15,785 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:15,785 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:15,786 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:15,786 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:15,802 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:15,803 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9897) 开始决策...
2025-06-04 17:22:15,804 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:15,804 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:15,805 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 25.05524682250669}
2025-06-04 17:22:15,805 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 25.05524682250669, 59: 0.0}
2025-06-04 17:22:15,806 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 25.05524682250669, 59: 0.0, 65: 0.0}
2025-06-04 17:22:15,806 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 25.05524682250669, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:15,807 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 25.05524682250669, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:15,807 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 25.05524682250669, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:15,808 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:15,809 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:15,809 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:15,810 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:15,824 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:15,825 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9907) 开始决策...
2025-06-04 17:22:15,825 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:15,826 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 21.31482550398312}
2025-06-04 17:22:15,827 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 21.31482550398312, -1: 15.88878974729386}
2025-06-04 17:22:15,828 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 21.31482550398312, -1: 15.88878974729386, 12: 0.0}
2025-06-04 17:22:15,828 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 21.31482550398312, -1: 15.88878974729386, 12: 0.0, 13: 3.855366864393274}
2025-06-04 17:22:15,829 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:15,829 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:15,830 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.88878974729386
2025-06-04 17:22:15,831 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:15,846 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:15,848 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9989) 开始决策...
2025-06-04 17:22:15,848 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:15,849 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9873) 开始决策...
2025-06-04 17:22:15,849 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:15,850 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0}
2025-06-04 17:22:15,850 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 12.703085455568324}
2025-06-04 17:22:15,851 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 12.703085455568324, 5: 0.0}
2025-06-04 17:22:15,851 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 12.703085455568324, 5: 0.0, 0: 0.0}
2025-06-04 17:22:15,852 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 12.703085455568324, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:15,853 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 59, 类型: <class 'int'>
2025-06-04 17:22:15,854 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 59
2025-06-04 17:22:15,854 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:15,855 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 59 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:15,874 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 59. END of try block.
2025-06-04 17:22:15,875 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9988) 开始决策...
2025-06-04 17:22:15,875 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:15,876 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9886) 开始决策...
2025-06-04 17:22:15,876 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:15,877 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0}
2025-06-04 17:22:15,879 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697}
2025-06-04 17:22:15,880 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697, 29: 0.0}
2025-06-04 17:22:15,880 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:15,881 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:15,882 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 0.0, 13: 22.66972397564697, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:15,882 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 26, 类型: <class 'int'>
2025-06-04 17:22:15,883 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 26
2025-06-04 17:22:15,884 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:15,884 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 26 (Type: CH)
2025-06-04 17:22:15,898 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 26. END of try block.
2025-06-04 17:22:15,899 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9590) 开始决策...
2025-06-04 17:22:15,901 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:15,901 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:15,902 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 67.19625765580469}
2025-06-04 17:22:15,902 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:15,903 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:15,921 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:15,922 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.9369) 开始决策...
2025-06-04 17:22:15,923 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:15,923 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 61.43054265029239}
2025-06-04 17:22:15,924 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 61.43054265029239, 20: 1.6066031720241718}
2025-06-04 17:22:15,925 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:15,925 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:15,941 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:15,941 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9951) 开始决策...
2025-06-04 17:22:15,943 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:15,943 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 12.710830437046289}
2025-06-04 17:22:15,943 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:15,944 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:15,958 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:15,959 - WSN_Simulation - INFO - --- 第 8 轮结束 ---
2025-06-04 17:22:15,961 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 9)...
2025-06-04 17:22:16,430 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0009.png
2025-06-04 17:22:16,431 - WSN_Simulation - INFO - --- 开始第 9 轮  ---
2025-06-04 17:22:16,432 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:16,432 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:17,912 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，9 个节点切换了CH。
2025-06-04 17:22:17,914 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:17,914 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9990) 开始决策...
2025-06-04 17:22:17,915 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:17,916 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9959) 开始决策...
2025-06-04 17:22:17,917 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:17,917 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:17,918 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:17,918 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 21.185177348902187}
2025-06-04 17:22:17,920 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 21.185177348902187, 13: 0.0}
2025-06-04 17:22:17,921 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 21.185177348902187, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:17,922 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 21.185177348902187, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:17,923 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:17,923 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:17,925 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:17,926 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:17,939 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:17,941 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9887) 开始决策...
2025-06-04 17:22:17,942 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:17,942 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:17,943 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 27.35230943991107}
2025-06-04 17:22:17,944 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 27.35230943991107, 59: 0.0}
2025-06-04 17:22:17,944 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 27.35230943991107, 59: 0.0, 65: 0.0}
2025-06-04 17:22:17,945 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 27.35230943991107, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:17,945 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 27.35230943991107, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:17,946 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 27.35230943991107, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:17,946 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:17,946 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:17,946 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:17,948 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:17,963 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:17,963 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9894) 开始决策...
2025-06-04 17:22:17,964 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:17,964 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 24.687214419468308}
2025-06-04 17:22:17,965 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 24.687214419468308, -1: 15.88878974729386}
2025-06-04 17:22:17,965 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 24.687214419468308, -1: 15.88878974729386, 12: 0.0}
2025-06-04 17:22:17,966 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 24.687214419468308, -1: 15.88878974729386, 12: 0.0, 13: 3.855366864393274}
2025-06-04 17:22:17,966 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:17,967 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:17,967 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.88878974729386
2025-06-04 17:22:17,968 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:17,983 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:17,985 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9988) 开始决策...
2025-06-04 17:22:17,985 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:17,986 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9857) 开始决策...
2025-06-04 17:22:17,987 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:17,988 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0}
2025-06-04 17:22:17,988 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 2.5760546010126397}
2025-06-04 17:22:17,991 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 2.5760546010126397, 5: 0.0}
2025-06-04 17:22:17,991 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 2.5760546010126397, 5: 0.0, 0: 0.0}
2025-06-04 17:22:17,992 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: 2.5760546010126397, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:17,992 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 59, 类型: <class 'int'>
2025-06-04 17:22:17,994 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 59
2025-06-04 17:22:17,994 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:17,995 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 59 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:18,008 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 59. END of try block.
2025-06-04 17:22:18,010 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9987) 开始决策...
2025-06-04 17:22:18,011 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:18,012 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9874) 开始决策...
2025-06-04 17:22:18,012 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:18,013 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:18,013 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 22.66972397564697}
2025-06-04 17:22:18,014 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 22.66972397564697, 29: 0.0}
2025-06-04 17:22:18,014 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 22.66972397564697, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:18,015 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 22.66972397564697, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:18,016 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 22.66972397564697, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:18,017 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:18,019 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:18,020 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:18,021 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:18,035 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:18,037 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9533) 开始决策...
2025-06-04 17:22:18,038 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:18,038 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:18,040 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 76.36234949583476}
2025-06-04 17:22:18,041 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:18,042 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:18,057 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:18,058 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.9288) 开始决策...
2025-06-04 17:22:18,058 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:18,059 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 69.80124867015019}
2025-06-04 17:22:18,060 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 69.80124867015019, 20: 1.6066031720241718}
2025-06-04 17:22:18,060 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 20, 类型: <class 'int'>
2025-06-04 17:22:18,060 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 20
2025-06-04 17:22:18,075 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 20. END of try block.
2025-06-04 17:22:18,075 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9946) 开始决策...
2025-06-04 17:22:18,076 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:18,078 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 2.5837221326758257}
2025-06-04 17:22:18,078 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:18,079 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:18,094 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:18,095 - WSN_Simulation - INFO - --- 第 9 轮结束 ---
2025-06-04 17:22:18,095 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 10)...
2025-06-04 17:22:18,666 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0010.png
2025-06-04 17:22:18,669 - WSN_Simulation - INFO - --- 开始第 10 轮  ---
2025-06-04 17:22:18,670 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:18,671 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:20,051 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，11 个节点切换了CH。
2025-06-04 17:22:20,052 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:20,053 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9989) 开始决策...
2025-06-04 17:22:20,056 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:20,058 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9956) 开始决策...
2025-06-04 17:22:20,059 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:20,060 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:20,060 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:20,060 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 23.127432369416752}
2025-06-04 17:22:20,060 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 23.127432369416752, 13: 0.0}
2025-06-04 17:22:20,061 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 23.127432369416752, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:20,061 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 23.127432369416752, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:20,062 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:20,062 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:20,062 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:20,063 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:20,079 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:20,080 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9877) 开始决策...
2025-06-04 17:22:20,081 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:20,081 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:20,081 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 29.419665795575014}
2025-06-04 17:22:20,082 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 29.419665795575014, 59: 0.0}
2025-06-04 17:22:20,082 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 29.419665795575014, 59: 0.0, 65: 0.0}
2025-06-04 17:22:20,082 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 29.419665795575014, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:20,083 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 29.419665795575014, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:20,083 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 29.419665795575014, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:20,083 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:20,084 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:20,084 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:20,084 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:20,100 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:20,101 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9881) 开始决策...
2025-06-04 17:22:20,102 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:20,102 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 28.0964610399688}
2025-06-04 17:22:20,103 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 28.0964610399688, -1: 15.88878974729386}
2025-06-04 17:22:20,103 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 28.0964610399688, -1: 15.88878974729386, 12: 0.0}
2025-06-04 17:22:20,104 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 28.0964610399688, -1: 15.88878974729386, 12: 0.0, 13: 3.855366864393274}
2025-06-04 17:22:20,104 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:20,105 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:20,105 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.88878974729386
2025-06-04 17:22:20,106 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:20,122 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:20,123 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9986) 开始决策...
2025-06-04 17:22:20,123 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:20,124 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9842) 开始决策...
2025-06-04 17:22:20,124 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:20,124 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0}
2025-06-04 17:22:20,125 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: -7.449705944997488}
2025-06-04 17:22:20,125 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:20,126 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:20,127 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 0.0, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:20,127 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:20,127 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:20,128 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:20,128 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:20,147 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:20,148 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9986) 开始决策...
2025-06-04 17:22:20,148 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:20,149 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9865) 开始决策...
2025-06-04 17:22:20,150 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:20,150 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:20,151 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.24093075629611}
2025-06-04 17:22:20,152 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.24093075629611, 29: 0.0}
2025-06-04 17:22:20,153 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.24093075629611, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:20,153 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.24093075629611, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:20,155 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.24093075629611, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:20,156 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:20,157 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:20,158 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:20,158 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:20,174 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:20,175 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9475) 开始决策...
2025-06-04 17:22:20,175 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:20,176 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:20,176 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 85.50736062607052}
2025-06-04 17:22:20,178 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:20,178 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:20,195 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:20,195 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.9226) 开始决策...
2025-06-04 17:22:20,196 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:20,196 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 69.80124867015019}
2025-06-04 17:22:20,197 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 69.80124867015019, 20: 4.569376003034165}
2025-06-04 17:22:20,198 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:20,198 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:20,213 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:20,214 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9940) 开始决策...
2025-06-04 17:22:20,214 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:20,215 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 5.75942230278057}
2025-06-04 17:22:20,216 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:20,216 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:20,232 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:20,233 - WSN_Simulation - INFO - --- 第 10 轮结束 ---
2025-06-04 17:22:20,235 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 11)...
2025-06-04 17:22:20,822 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0011.png
2025-06-04 17:22:20,823 - WSN_Simulation - INFO - --- 开始第 11 轮  ---
2025-06-04 17:22:20,824 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:20,824 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:22,229 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，17 个节点切换了CH。
2025-06-04 17:22:22,230 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:22,230 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9988) 开始决策...
2025-06-04 17:22:22,231 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:22,232 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9952) 开始决策...
2025-06-04 17:22:22,233 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:22,233 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:22,234 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:22,236 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 24.87546188787986}
2025-06-04 17:22:22,237 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 24.87546188787986, 13: 0.0}
2025-06-04 17:22:22,238 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 24.87546188787986, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:22,239 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 24.87546188787986, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:22,239 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:22,240 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:22,240 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:22,240 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:22,258 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:22,259 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9867) 开始决策...
2025-06-04 17:22:22,260 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:22,261 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:22,261 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 31.280286515672564}
2025-06-04 17:22:22,262 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 31.280286515672564, 59: 0.0}
2025-06-04 17:22:22,263 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 31.280286515672564, 59: 0.0, 65: 0.0}
2025-06-04 17:22:22,264 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 31.280286515672564, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:22,265 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 31.280286515672564, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:22,266 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 31.280286515672564, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:22,266 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:22,266 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:22,268 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:22,268 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:22,282 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:22,285 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9868) 开始决策...
2025-06-04 17:22:22,285 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:22,286 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 31.433541560945173}
2025-06-04 17:22:22,286 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 31.433541560945173, -1: 15.88878974729386}
2025-06-04 17:22:22,286 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 31.433541560945173, -1: 15.88878974729386, 12: 0.0}
2025-06-04 17:22:22,286 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 31.433541560945173, -1: 15.88878974729386, 12: 0.0, 13: 3.855366864393274}
2025-06-04 17:22:22,288 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:22,288 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:22,289 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.88878974729386
2025-06-04 17:22:22,292 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:22,309 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:22,309 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9985) 开始决策...
2025-06-04 17:22:22,309 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:22,311 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9829) 开始决策...
2025-06-04 17:22:22,311 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:22,312 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 3.7533893538631213}
2025-06-04 17:22:22,312 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 3.7533893538631213, 59: -7.449705944997488}
2025-06-04 17:22:22,312 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 3.7533893538631213, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:22,313 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 3.7533893538631213, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:22,313 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 3.7533893538631213, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:22,314 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:22,314 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:22,315 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:22,315 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:22,335 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:22,335 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9985) 开始决策...
2025-06-04 17:22:22,336 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:22,336 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9856) 开始决策...
2025-06-04 17:22:22,336 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:22,336 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:22,336 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.555016858880336}
2025-06-04 17:22:22,338 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.555016858880336, 29: 0.0}
2025-06-04 17:22:22,338 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.555016858880336, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:22,339 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.555016858880336, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:22,340 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.555016858880336, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:22,340 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:22,341 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:22,341 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:22,343 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:22,358 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:22,359 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9418) 开始决策...
2025-06-04 17:22:22,361 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:22,362 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:22,362 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 94.52284850537744}
2025-06-04 17:22:22,363 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:22,363 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:22,378 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:22,378 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.9145) 开始决策...
2025-06-04 17:22:22,379 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:22,379 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 78.12075380691735}
2025-06-04 17:22:22,380 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 78.12075380691735, 20: 4.569376003034165}
2025-06-04 17:22:22,380 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:22,381 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:22,397 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:22,398 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9934) 开始决策...
2025-06-04 17:22:22,399 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:22,400 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: -4.298171920247236}
2025-06-04 17:22:22,401 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:22,401 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:22,417 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:22,420 - WSN_Simulation - INFO - --- 第 11 轮结束 ---
2025-06-04 17:22:22,421 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 12)...
2025-06-04 17:22:23,069 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0012.png
2025-06-04 17:22:23,069 - WSN_Simulation - INFO - --- 开始第 12 轮  ---
2025-06-04 17:22:23,070 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:23,070 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:24,890 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，11 个节点切换了CH。
2025-06-04 17:22:24,891 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:24,891 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9987) 开始决策...
2025-06-04 17:22:24,892 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:24,892 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9948) 开始决策...
2025-06-04 17:22:24,893 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:24,893 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:24,894 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:24,894 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 26.44868845449666}
2025-06-04 17:22:24,895 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 26.44868845449666, 13: 0.0}
2025-06-04 17:22:24,895 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 26.44868845449666, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:24,895 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 26.44868845449666, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:24,896 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:24,896 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:24,896 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:24,898 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:24,914 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:24,915 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9857) 开始决策...
2025-06-04 17:22:24,916 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:24,918 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:24,919 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 32.95484516376036}
2025-06-04 17:22:24,919 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 32.95484516376036, 59: 0.0}
2025-06-04 17:22:24,920 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 32.95484516376036, 59: 0.0, 65: 0.0}
2025-06-04 17:22:24,920 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 32.95484516376036, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:24,923 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 32.95484516376036, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:24,924 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 32.95484516376036, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:24,925 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:24,925 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:24,926 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:24,926 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:24,944 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:24,945 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9856) 开始决策...
2025-06-04 17:22:24,945 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:24,946 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 34.77282895650086}
2025-06-04 17:22:24,946 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 34.77282895650086, -1: 15.88878974729386}
2025-06-04 17:22:24,947 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 34.77282895650086, -1: 15.88878974729386, 12: 0.0}
2025-06-04 17:22:24,947 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 34.77282895650086, -1: 15.88878974729386, 12: 0.0, 13: 3.855366864393274}
2025-06-04 17:22:24,949 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:24,949 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:24,950 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.88878974729386
2025-06-04 17:22:24,950 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:24,966 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:24,967 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9984) 开始决策...
2025-06-04 17:22:24,968 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:24,970 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9816) 开始决策...
2025-06-04 17:22:24,974 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:24,975 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 7.43493870253916}
2025-06-04 17:22:24,976 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 7.43493870253916, 59: -7.449705944997488}
2025-06-04 17:22:24,978 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 7.43493870253916, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:24,978 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 7.43493870253916, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:24,978 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 7.43493870253916, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:24,980 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:24,981 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:24,981 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:24,982 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:25,104 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:25,105 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9984) 开始决策...
2025-06-04 17:22:25,106 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:25,106 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9847) 开始决策...
2025-06-04 17:22:25,106 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:25,108 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:25,108 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 29.63769435120614}
2025-06-04 17:22:25,109 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 29.63769435120614, 29: 0.0}
2025-06-04 17:22:25,109 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 29.63769435120614, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:25,110 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 29.63769435120614, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:25,111 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 29.63769435120614, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:25,111 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:25,112 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:25,112 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:25,113 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:25,130 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:25,131 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9360) 开始决策...
2025-06-04 17:22:25,131 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:25,132 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:25,132 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 103.48375869198773}
2025-06-04 17:22:25,133 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:25,133 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:25,156 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:25,158 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.9064) 开始决策...
2025-06-04 17:22:25,159 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:25,160 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 86.39264058472064}
2025-06-04 17:22:25,161 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 86.39264058472064, 20: 4.569376003034165}
2025-06-04 17:22:25,161 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:25,161 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:25,177 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:25,178 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9928) 开始决策...
2025-06-04 17:22:25,178 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:25,180 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: -1.0767004981593926}
2025-06-04 17:22:25,180 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:25,181 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:25,200 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:25,202 - WSN_Simulation - INFO - --- 第 12 轮结束 ---
2025-06-04 17:22:25,203 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 13)...
2025-06-04 17:22:25,784 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0013.png
2025-06-04 17:22:25,786 - WSN_Simulation - INFO - --- 开始第 13 轮  ---
2025-06-04 17:22:25,787 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:25,789 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:27,571 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，15 个节点切换了CH。
2025-06-04 17:22:27,571 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:27,572 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9985) 开始决策...
2025-06-04 17:22:27,572 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:27,573 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9945) 开始决策...
2025-06-04 17:22:27,573 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:27,574 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:27,574 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:27,575 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 27.86459236445178}
2025-06-04 17:22:27,575 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 27.86459236445178, 13: 0.0}
2025-06-04 17:22:27,576 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 27.86459236445178, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:27,576 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 27.86459236445178, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:27,578 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:27,578 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:27,579 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:27,580 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:27,598 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:27,598 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9846) 开始决策...
2025-06-04 17:22:27,599 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:27,601 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:27,602 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 34.46194794703938}
2025-06-04 17:22:27,602 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 34.46194794703938, 59: 0.0}
2025-06-04 17:22:27,604 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 34.46194794703938, 59: 0.0, 65: 0.0}
2025-06-04 17:22:27,606 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 34.46194794703938, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:27,606 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 34.46194794703938, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:27,607 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 34.46194794703938, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:27,608 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:27,609 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:27,610 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:27,610 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:27,626 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:27,627 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9848) 开始决策...
2025-06-04 17:22:27,629 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:27,630 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 34.77282895650086}
2025-06-04 17:22:27,630 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 34.77282895650086, -1: 15.88878974729386}
2025-06-04 17:22:27,631 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 34.77282895650086, -1: 15.88878974729386, 12: 6.0679746552196825}
2025-06-04 17:22:27,631 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 34.77282895650086, -1: 15.88878974729386, 12: 6.0679746552196825, 13: 3.855366864393274}
2025-06-04 17:22:27,632 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:27,632 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:27,633 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.88878974729386
2025-06-04 17:22:27,634 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:27,652 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:27,652 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9983) 开始决策...
2025-06-04 17:22:27,653 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:27,656 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9804) 开始决策...
2025-06-04 17:22:27,657 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:27,659 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 11.07899080949562}
2025-06-04 17:22:27,661 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 11.07899080949562, 59: -7.449705944997488}
2025-06-04 17:22:27,661 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 11.07899080949562, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:27,662 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 11.07899080949562, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:27,662 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 11.07899080949562, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:27,663 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:27,663 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:27,664 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:27,666 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:27,690 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:27,690 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9982) 开始决策...
2025-06-04 17:22:27,692 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:27,692 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9837) 开始决策...
2025-06-04 17:22:27,693 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:27,693 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:27,693 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 31.51210409429936}
2025-06-04 17:22:27,695 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 31.51210409429936, 29: 0.0}
2025-06-04 17:22:27,695 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 31.51210409429936, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:27,696 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 31.51210409429936, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:27,696 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 31.51210409429936, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:27,698 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:27,698 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:27,699 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:27,700 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:27,722 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:27,725 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9303) 开始决策...
2025-06-04 17:22:27,725 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:27,726 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:27,728 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 112.34004277165275}
2025-06-04 17:22:27,728 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:27,728 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:27,748 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:27,749 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.8983) 开始决策...
2025-06-04 17:22:27,750 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:27,752 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 94.56679154311465}
2025-06-04 17:22:27,753 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 94.56679154311465, 20: 4.569376003034165}
2025-06-04 17:22:27,755 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 20, 类型: <class 'int'>
2025-06-04 17:22:27,756 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 20
2025-06-04 17:22:27,776 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 20. END of try block.
2025-06-04 17:22:27,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9922) 开始决策...
2025-06-04 17:22:27,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:27,778 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 2.101092365434506}
2025-06-04 17:22:27,778 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:27,779 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:27,797 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:27,799 - WSN_Simulation - INFO - --- 第 13 轮结束 ---
2025-06-04 17:22:27,799 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 14)...
2025-06-04 17:22:28,520 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0014.png
2025-06-04 17:22:28,521 - WSN_Simulation - INFO - --- 开始第 14 轮  ---
2025-06-04 17:22:28,522 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:28,523 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:30,924 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，18 个节点切换了CH。
2025-06-04 17:22:30,925 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:30,926 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9984) 开始决策...
2025-06-04 17:22:30,928 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:30,929 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9941) 开始决策...
2025-06-04 17:22:30,930 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:30,932 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:30,933 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:30,934 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 29.13890588341139}
2025-06-04 17:22:30,935 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 29.13890588341139, 13: 0.0}
2025-06-04 17:22:30,935 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 29.13890588341139, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:30,936 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 29.13890588341139, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:30,937 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:30,939 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:30,940 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:30,940 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:30,968 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:30,968 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9836) 开始决策...
2025-06-04 17:22:30,969 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:30,970 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:30,970 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049}
2025-06-04 17:22:30,973 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 0.0}
2025-06-04 17:22:30,974 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 0.0, 65: 0.0}
2025-06-04 17:22:30,975 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:30,976 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:30,977 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 0.0, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:30,978 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 59, 类型: <class 'int'>
2025-06-04 17:22:30,979 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 59
2025-06-04 17:22:30,979 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:30,980 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 59 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:31,006 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 59. END of try block.
2025-06-04 17:22:31,008 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9835) 开始决策...
2025-06-04 17:22:31,009 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:31,009 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 38.07636307568205}
2025-06-04 17:22:31,010 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 38.07636307568205, -1: 15.88878974729386}
2025-06-04 17:22:31,010 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 38.07636307568205, -1: 15.88878974729386, 12: 6.0679746552196825}
2025-06-04 17:22:31,012 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 38.07636307568205, -1: 15.88878974729386, 12: 6.0679746552196825, 13: 3.855366864393274}
2025-06-04 17:22:31,012 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:31,013 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:31,014 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.88878974729386
2025-06-04 17:22:31,015 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: *** 选择了BS (-1) ***
2025-06-04 17:22:31,039 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:31,039 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9981) 开始决策...
2025-06-04 17:22:31,040 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:31,041 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9791) 开始决策...
2025-06-04 17:22:31,043 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:31,043 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 14.68101548489681}
2025-06-04 17:22:31,044 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 14.68101548489681, 59: -7.449705944997488}
2025-06-04 17:22:31,044 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 14.68101548489681, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:31,045 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 14.68101548489681, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:31,046 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 14.68101548489681, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:31,046 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:31,047 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:31,048 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:31,049 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:31,074 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:31,075 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9981) 开始决策...
2025-06-04 17:22:31,075 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:31,076 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9829) 开始决策...
2025-06-04 17:22:31,076 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:31,078 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:31,078 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 33.19907286308326}
2025-06-04 17:22:31,078 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 33.19907286308326, 29: 0.0}
2025-06-04 17:22:31,079 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 33.19907286308326, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:31,079 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 33.19907286308326, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:31,081 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 33.19907286308326, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:31,082 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:31,083 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:31,084 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:31,085 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:31,107 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:31,107 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9245) 开始决策...
2025-06-04 17:22:31,109 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:31,110 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348}
2025-06-04 17:22:31,110 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: -1.3860035798777348, 2: 121.12042061318135}
2025-06-04 17:22:31,110 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 46, 类型: <class 'int'>
2025-06-04 17:22:31,112 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 46
2025-06-04 17:22:31,135 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 46. END of try block.
2025-06-04 17:22:31,137 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.8921) 开始决策...
2025-06-04 17:22:31,138 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:31,140 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 94.56679154311465}
2025-06-04 17:22:31,141 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 94.56679154311465, 20: 9.467546224437505}
2025-06-04 17:22:31,141 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:31,142 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:31,165 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:31,166 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9916) 开始决策...
2025-06-04 17:22:31,166 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:31,168 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 5.248508196106776}
2025-06-04 17:22:31,169 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:31,169 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:31,194 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:31,195 - WSN_Simulation - INFO - --- 第 14 轮结束 ---
2025-06-04 17:22:31,196 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 15)...
2025-06-04 17:22:31,823 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0015.png
2025-06-04 17:22:31,824 - WSN_Simulation - INFO - --- 开始第 15 轮  ---
2025-06-04 17:22:31,826 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:31,826 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:33,441 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，11 个节点切换了CH。
2025-06-04 17:22:33,441 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:33,442 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9983) 开始决策...
2025-06-04 17:22:33,443 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:33,444 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9938) 开始决策...
2025-06-04 17:22:33,444 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:33,445 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:33,445 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:33,446 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 30.285788050475038}
2025-06-04 17:22:33,447 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 30.285788050475038, 13: 0.0}
2025-06-04 17:22:33,448 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 30.285788050475038, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:33,450 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 30.285788050475038, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:33,450 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:33,451 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:33,451 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:33,453 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:33,470 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:33,473 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9834) 开始决策...
2025-06-04 17:22:33,475 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:33,476 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:33,477 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049}
2025-06-04 17:22:33,477 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 2.278152521128561}
2025-06-04 17:22:33,477 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 2.278152521128561, 65: 0.0}
2025-06-04 17:22:33,478 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 2.278152521128561, 65: 0.0, 80: 0.0}
2025-06-04 17:22:33,478 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:33,480 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 35.81834045199049, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:33,480 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:33,480 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:33,481 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:33,481 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:33,502 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:33,504 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9822) 开始决策...
2025-06-04 17:22:33,506 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:33,506 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 38.07636307568205}
2025-06-04 17:22:33,508 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 38.07636307568205, -1: 30.188700519858333}
2025-06-04 17:22:33,509 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 38.07636307568205, -1: 30.188700519858333, 12: 6.0679746552196825}
2025-06-04 17:22:33,511 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 38.07636307568205, -1: 30.188700519858333, 12: 6.0679746552196825, 13: 3.855366864393274}
2025-06-04 17:22:33,511 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:33,512 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:33,512 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 30.188700519858333
2025-06-04 17:22:33,513 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:33,531 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:33,532 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9980) 开始决策...
2025-06-04 17:22:33,535 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:33,536 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9779) 开始决策...
2025-06-04 17:22:33,537 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:33,539 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 18.244253476259495}
2025-06-04 17:22:33,541 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 18.244253476259495, 59: -7.449705944997488}
2025-06-04 17:22:33,541 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 18.244253476259495, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:33,541 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 18.244253476259495, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:33,543 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 18.244253476259495, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:33,544 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:33,545 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:33,547 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:33,547 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:33,576 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:33,578 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9980) 开始决策...
2025-06-04 17:22:33,579 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:33,580 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9820) 开始决策...
2025-06-04 17:22:33,581 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:33,583 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:33,586 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 34.71734475498877}
2025-06-04 17:22:33,588 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 34.71734475498877, 29: 0.0}
2025-06-04 17:22:33,589 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 34.71734475498877, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:33,591 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 34.71734475498877, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:33,593 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 34.71734475498877, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:33,594 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:33,595 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:33,595 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:33,596 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:33,628 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:33,632 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9239) 开始决策...
2025-06-04 17:22:33,633 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:33,634 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343}
2025-06-04 17:22:33,634 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343, 2: 121.12042061318135}
2025-06-04 17:22:33,635 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:33,636 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:33,656 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:33,658 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.8840) 开始决策...
2025-06-04 17:22:33,660 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:33,661 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 102.63402211559838}
2025-06-04 17:22:33,661 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 102.63402211559838, 20: 9.467546224437505}
2025-06-04 17:22:33,662 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:33,663 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:33,680 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:33,681 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9910) 开始决策...
2025-06-04 17:22:33,683 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:33,684 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 8.35030121799157}
2025-06-04 17:22:33,685 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:33,685 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:33,708 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:33,709 - WSN_Simulation - INFO - --- 第 15 轮结束 ---
2025-06-04 17:22:33,710 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 16)...
2025-06-04 17:22:34,374 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0016.png
2025-06-04 17:22:34,375 - WSN_Simulation - INFO - --- 开始第 16 轮  ---
2025-06-04 17:22:34,376 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:34,376 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:35,895 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，10 个节点切换了CH。
2025-06-04 17:22:35,895 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:35,896 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9982) 开始决策...
2025-06-04 17:22:35,896 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:35,897 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9934) 开始决策...
2025-06-04 17:22:35,897 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:35,898 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:35,898 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:35,898 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 31.31798200083232}
2025-06-04 17:22:35,899 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 31.31798200083232, 13: 0.0}
2025-06-04 17:22:35,900 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 31.31798200083232, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:35,900 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 31.31798200083232, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:35,901 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:35,902 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:35,903 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:35,905 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:35,922 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:35,923 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9824) 开始决策...
2025-06-04 17:22:35,924 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:35,924 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:35,925 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 37.03909370644649}
2025-06-04 17:22:35,925 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 37.03909370644649, 59: 2.278152521128561}
2025-06-04 17:22:35,926 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 37.03909370644649, 59: 2.278152521128561, 65: 0.0}
2025-06-04 17:22:35,928 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 37.03909370644649, 59: 2.278152521128561, 65: 0.0, 80: 0.0}
2025-06-04 17:22:35,928 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 37.03909370644649, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:35,928 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 37.03909370644649, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:35,930 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:35,930 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:35,931 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:35,931 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:35,947 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:35,948 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9810) 开始决策...
2025-06-04 17:22:35,950 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:35,951 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 41.307752913598954}
2025-06-04 17:22:35,951 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 41.307752913598954, -1: 30.188700519858333}
2025-06-04 17:22:35,953 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 41.307752913598954, -1: 30.188700519858333, 12: 6.0679746552196825}
2025-06-04 17:22:35,953 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 41.307752913598954, -1: 30.188700519858333, 12: 6.0679746552196825, 13: 3.855366864393274}
2025-06-04 17:22:35,954 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:35,954 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:35,955 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 30.188700519858333
2025-06-04 17:22:35,955 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:35,973 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:35,974 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9979) 开始决策...
2025-06-04 17:22:35,975 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:35,975 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9766) 开始决策...
2025-06-04 17:22:35,977 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:35,977 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 21.76868957409545}
2025-06-04 17:22:35,978 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 21.76868957409545, 59: -7.449705944997488}
2025-06-04 17:22:35,978 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 21.76868957409545, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:35,979 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 21.76868957409545, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:35,980 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 21.76868957409545, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:35,980 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:35,980 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:35,981 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:35,981 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:36,000 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:36,001 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9978) 开始决策...
2025-06-04 17:22:36,002 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:36,003 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9810) 开始决策...
2025-06-04 17:22:36,005 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:36,007 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:36,008 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 36.08378945770373}
2025-06-04 17:22:36,009 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 36.08378945770373, 29: 0.0}
2025-06-04 17:22:36,009 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 36.08378945770373, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:36,010 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 36.08378945770373, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:36,010 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 36.08378945770373, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:36,012 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:36,012 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:36,013 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:36,014 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:36,029 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:36,030 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9181) 开始决策...
2025-06-04 17:22:36,032 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:36,032 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343}
2025-06-04 17:22:36,033 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343, 2: 129.7738862299148}
2025-06-04 17:22:36,034 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:36,034 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:36,051 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:36,052 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.8759) 开始决策...
2025-06-04 17:22:36,053 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:36,054 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 110.61930785520872}
2025-06-04 17:22:36,054 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 110.61930785520872, 20: 9.467546224437505}
2025-06-04 17:22:36,056 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:36,056 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:36,074 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:36,076 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9904) 开始决策...
2025-06-04 17:22:36,076 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:36,077 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 11.422517205371825}
2025-06-04 17:22:36,077 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:36,078 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:36,094 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:36,095 - WSN_Simulation - INFO - --- 第 16 轮结束 ---
2025-06-04 17:22:36,096 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 17)...
2025-06-04 17:22:36,675 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0017.png
2025-06-04 17:22:36,675 - WSN_Simulation - INFO - --- 开始第 17 轮  ---
2025-06-04 17:22:36,677 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:36,678 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:38,265 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，13 个节点切换了CH。
2025-06-04 17:22:38,267 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:38,268 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9980) 开始决策...
2025-06-04 17:22:38,268 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:38,268 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9931) 开始决策...
2025-06-04 17:22:38,269 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:38,269 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:38,271 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:38,271 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 32.246956556153876}
2025-06-04 17:22:38,272 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 32.246956556153876, 13: 0.0}
2025-06-04 17:22:38,273 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 32.246956556153876, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:38,273 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 32.246956556153876, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:38,274 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:38,274 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:38,275 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:38,277 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:38,294 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:38,295 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9814) 开始决策...
2025-06-04 17:22:38,295 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:38,296 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:38,296 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 38.137771635456886}
2025-06-04 17:22:38,297 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 38.137771635456886, 59: 2.278152521128561}
2025-06-04 17:22:38,297 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 38.137771635456886, 59: 2.278152521128561, 65: 0.0}
2025-06-04 17:22:38,299 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 38.137771635456886, 59: 2.278152521128561, 65: 0.0, 80: 0.0}
2025-06-04 17:22:38,300 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 38.137771635456886, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:38,301 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 38.137771635456886, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:38,301 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:38,302 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:38,304 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:38,305 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:38,324 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:38,328 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9798) 开始决策...
2025-06-04 17:22:38,328 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:38,328 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796}
2025-06-04 17:22:38,329 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 30.188700519858333}
2025-06-04 17:22:38,329 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 30.188700519858333, 12: 6.0679746552196825}
2025-06-04 17:22:38,331 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 30.188700519858333, 12: 6.0679746552196825, 13: 3.855366864393274}
2025-06-04 17:22:38,331 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:38,332 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:38,333 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 30.188700519858333
2025-06-04 17:22:38,333 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:38,353 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:38,354 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9979) 开始决策...
2025-06-04 17:22:38,355 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:38,355 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9753) 开始决策...
2025-06-04 17:22:38,356 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:38,357 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 25.25481352315797}
2025-06-04 17:22:38,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 25.25481352315797, 59: -7.449705944997488}
2025-06-04 17:22:38,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 25.25481352315797, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:38,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 25.25481352315797, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:38,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 25.25481352315797, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:38,359 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:38,360 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:38,361 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:38,361 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:38,380 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:38,380 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9977) 开始决策...
2025-06-04 17:22:38,381 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:38,381 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9801) 开始决策...
2025-06-04 17:22:38,384 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:38,385 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:38,385 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.722951563126692}
2025-06-04 17:22:38,386 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.722951563126692, 29: 0.0}
2025-06-04 17:22:38,386 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.722951563126692, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:38,388 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.722951563126692, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:38,389 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 25.722951563126692, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:38,390 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:38,391 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:38,392 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:38,393 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:38,410 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:38,410 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9124) 开始决策...
2025-06-04 17:22:38,411 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:38,412 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343}
2025-06-04 17:22:38,412 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343, 2: 138.3625519521975}
2025-06-04 17:22:38,413 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:38,413 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:38,430 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:38,431 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.8678) 开始决策...
2025-06-04 17:22:38,432 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:38,432 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 118.5464750588948}
2025-06-04 17:22:38,433 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 118.5464750588948, 20: 9.467546224437505}
2025-06-04 17:22:38,433 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:38,433 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:38,451 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:38,452 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9898) 开始决策...
2025-06-04 17:22:38,453 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:38,454 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 14.435734633690291}
2025-06-04 17:22:38,455 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:38,455 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:38,473 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:38,473 - WSN_Simulation - INFO - --- 第 17 轮结束 ---
2025-06-04 17:22:38,474 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 18)...
2025-06-04 17:22:39,085 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0018.png
2025-06-04 17:22:39,086 - WSN_Simulation - INFO - --- 开始第 18 轮  ---
2025-06-04 17:22:39,087 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:39,087 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:40,618 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，11 个节点切换了CH。
2025-06-04 17:22:40,619 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:40,620 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9979) 开始决策...
2025-06-04 17:22:40,621 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:40,622 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9927) 开始决策...
2025-06-04 17:22:40,623 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:40,623 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:40,624 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:40,625 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 33.083033655943275}
2025-06-04 17:22:40,626 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 33.083033655943275, 13: 0.0}
2025-06-04 17:22:40,626 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 33.083033655943275, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:40,627 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 33.083033655943275, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:40,627 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:40,628 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:40,628 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:40,629 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:40,643 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:40,644 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9803) 开始决策...
2025-06-04 17:22:40,645 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:40,645 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:40,646 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625}
2025-06-04 17:22:40,646 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561}
2025-06-04 17:22:40,648 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561, 65: 0.0}
2025-06-04 17:22:40,649 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561, 65: 0.0, 80: 0.0}
2025-06-04 17:22:40,649 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: 0.0}
2025-06-04 17:22:40,650 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: 0.0, 2: 3.969966988944064}
2025-06-04 17:22:40,651 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 0, 类型: <class 'int'>
2025-06-04 17:22:40,653 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 0
2025-06-04 17:22:40,653 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:40,654 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 0 (Type: CH)
2025-06-04 17:22:40,670 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 0. END of try block.
2025-06-04 17:22:40,671 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9794) 开始决策...
2025-06-04 17:22:40,672 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:40,672 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796}
2025-06-04 17:22:40,674 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 30.188700519858333}
2025-06-04 17:22:40,674 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 30.188700519858333, 12: 6.0679746552196825}
2025-06-04 17:22:40,675 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 30.188700519858333, 12: 6.0679746552196825, 13: -2.522599057087237}
2025-06-04 17:22:40,675 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:40,675 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:40,676 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 30.188700519858333
2025-06-04 17:22:40,677 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: *** 选择了BS (-1) ***
2025-06-04 17:22:40,694 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:40,694 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9978) 开始决策...
2025-06-04 17:22:40,695 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:40,695 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9741) 开始决策...
2025-06-04 17:22:40,696 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:40,697 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 28.705371257449716}
2025-06-04 17:22:40,697 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 28.705371257449716, 59: -7.449705944997488}
2025-06-04 17:22:40,698 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 28.705371257449716, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:40,698 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 28.705371257449716, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:40,699 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 28.705371257449716, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:40,700 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 39, 类型: <class 'int'>
2025-06-04 17:22:40,701 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 39
2025-06-04 17:22:40,702 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:40,702 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 39 (Type: CH)
2025-06-04 17:22:40,718 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 39. END of try block.
2025-06-04 17:22:40,719 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9976) 开始决策...
2025-06-04 17:22:40,720 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:40,722 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9792) 开始决策...
2025-06-04 17:22:40,723 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:40,723 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:40,724 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.98883558502786}
2025-06-04 17:22:40,724 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.98883558502786, 29: 0.0}
2025-06-04 17:22:40,725 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.98883558502786, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:40,726 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.98883558502786, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:40,726 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 27.98883558502786, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:40,727 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:40,728 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:40,728 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:40,729 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:40,749 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:40,750 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9066) 开始决策...
2025-06-04 17:22:40,751 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:40,753 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343}
2025-06-04 17:22:40,754 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343, 2: 146.87798389708277}
2025-06-04 17:22:40,756 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:40,756 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:40,869 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:40,872 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.8597) 开始决策...
2025-06-04 17:22:40,872 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:40,873 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 126.40702341692153}
2025-06-04 17:22:40,874 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 126.40702341692153, 20: 9.467546224437505}
2025-06-04 17:22:40,874 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:40,875 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:40,894 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:40,894 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9892) 开始决策...
2025-06-04 17:22:40,895 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:40,896 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 17.407276043452505}
2025-06-04 17:22:40,896 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:40,896 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:40,915 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:40,915 - WSN_Simulation - INFO - --- 第 18 轮结束 ---
2025-06-04 17:22:40,916 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 19)...
2025-06-04 17:22:41,393 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0019.png
2025-06-04 17:22:41,395 - WSN_Simulation - INFO - --- 开始第 19 轮  ---
2025-06-04 17:22:41,396 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:41,396 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:43,041 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，13 个节点切换了CH。
2025-06-04 17:22:43,041 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:43,042 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9977) 开始决策...
2025-06-04 17:22:43,042 - WSN_Simulation - WARNING - CH 0 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:43,043 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 (Energy: 0.9924) 开始决策...
2025-06-04 17:22:43,043 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 评估有效候选 (Path: [2]):
2025-06-04 17:22:43,043 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955}
2025-06-04 17:22:43,044 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0}
2025-06-04 17:22:43,044 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 33.83550304575373}
2025-06-04 17:22:43,045 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 33.83550304575373, 13: 0.0}
2025-06-04 17:22:43,045 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 33.83550304575373, 13: 0.0, 65: 1.9057573302682216}
2025-06-04 17:22:43,046 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 2 最终有效候选及Q值: {17: -0.4649919012721955, -1: 0.0, 12: 33.83550304575373, 13: 0.0, 65: 1.9057573302682216, 80: 0.0}
2025-06-04 17:22:43,046 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:43,047 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 2: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:43,048 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:43,048 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 2: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:43,065 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 2: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:43,066 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 (Energy: 0.9780) 开始决策...
2025-06-04 17:22:43,067 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 评估有效候选 (Path: [5]):
2025-06-04 17:22:43,067 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0}
2025-06-04 17:22:43,067 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625}
2025-06-04 17:22:43,068 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561}
2025-06-04 17:22:43,070 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561, 65: 0.0}
2025-06-04 17:22:43,071 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561, 65: 0.0, 80: 0.0}
2025-06-04 17:22:43,072 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: -2.7728357842516433}
2025-06-04 17:22:43,073 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 5 最终有效候选及Q值: {-1: 0.0, 12: 39.12658177156625, 59: 2.278152521128561, 65: 0.0, 80: 0.0, 0: -2.7728357842516433, 2: 3.969966988944064}
2025-06-04 17:22:43,074 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:43,075 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 5: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:43,075 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:43,076 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 5: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:43,092 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 5: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:43,093 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 (Energy: 0.9781) 开始决策...
2025-06-04 17:22:43,095 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 评估有效候选 (Path: [17]):
2025-06-04 17:22:43,095 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796}
2025-06-04 17:22:43,096 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 43.05862021516636}
2025-06-04 17:22:43,096 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 43.05862021516636, 12: 6.0679746552196825}
2025-06-04 17:22:43,096 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 17 最终有效候选及Q值: {2: 44.52856405509796, -1: 43.05862021516636, 12: 6.0679746552196825, 13: -2.522599057087237}
2025-06-04 17:22:43,098 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:43,099 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 17: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:43,099 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 43.05862021516636
2025-06-04 17:22:43,100 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 17: BS (-1) 是有效候选但未被选择。最终选择: 2 (Type: CH)
2025-06-04 17:22:43,116 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 17: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:43,119 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 20 (Energy: 0.9977) 开始决策...
2025-06-04 17:22:43,121 - WSN_Simulation - WARNING - CH 20 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:43,122 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 (Energy: 0.9728) 开始决策...
2025-06-04 17:22:43,124 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 评估有效候选 (Path: [26]):
2025-06-04 17:22:43,125 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 32.11618888194533}
2025-06-04 17:22:43,128 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 32.11618888194533, 59: -7.449705944997488}
2025-06-04 17:22:43,129 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 32.11618888194533, 59: -7.449705944997488, 5: 0.0}
2025-06-04 17:22:43,130 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 32.11618888194533, 59: -7.449705944997488, 5: 0.0, 0: 0.0}
2025-06-04 17:22:43,130 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 26 最终有效候选及Q值: {39: 32.11618888194533, 59: -7.449705944997488, 5: 0.0, 0: 0.0, -1: 0.0}
2025-06-04 17:22:43,131 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 59, 类型: <class 'int'>
2025-06-04 17:22:43,132 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 26: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 59
2025-06-04 17:22:43,133 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:43,134 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 26: BS (-1) 是有效候选但未被选择。最终选择: 59 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:43,154 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 26: Successfully processed choice for NH 59. END of try block.
2025-06-04 17:22:43,155 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9975) 开始决策...
2025-06-04 17:22:43,157 - WSN_Simulation - WARNING - CH 29 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:22:43,157 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 (Energy: 0.9783) 开始决策...
2025-06-04 17:22:43,158 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 评估有效候选 (Path: [39]):
2025-06-04 17:22:43,159 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773}
2025-06-04 17:22:43,159 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 30.028131204738912}
2025-06-04 17:22:43,160 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 30.028131204738912, 29: 0.0}
2025-06-04 17:22:43,160 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 30.028131204738912, 29: 0.0, -1: 16.829459410983844}
2025-06-04 17:22:43,161 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 30.028131204738912, 29: 0.0, -1: 16.829459410983844, 5: 0.0}
2025-06-04 17:22:43,161 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 39 最终有效候选及Q值: {26: 1.3379906657128773, 13: 30.028131204738912, 29: 0.0, -1: 16.829459410983844, 5: 0.0, 17: 3.844058715834782}
2025-06-04 17:22:43,162 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 13, 类型: <class 'int'>
2025-06-04 17:22:43,162 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 39: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 13
2025-06-04 17:22:43,163 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.829459410983844
2025-06-04 17:22:43,164 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 39: BS (-1) 是有效候选但未被选择。最终选择: 13 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:43,183 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 39: Successfully processed choice for NH 13. END of try block.
2025-06-04 17:22:43,184 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 (Energy: 0.9009) 开始决策...
2025-06-04 17:22:43,184 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 评估有效候选 (Path: [40]):
2025-06-04 17:22:43,185 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343}
2025-06-04 17:22:43,185 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 40 最终有效候选及Q值: {46: 8.250816306511343, 2: 155.2702581451203}
2025-06-04 17:22:43,186 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:43,188 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 40: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:43,205 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 40: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:43,206 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 (Energy: 0.8516) 开始决策...
2025-06-04 17:22:43,207 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 评估有效候选 (Path: [41]):
2025-06-04 17:22:43,208 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 134.15096340766172}
2025-06-04 17:22:43,208 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 41 最终有效候选及Q值: {2: 134.15096340766172, 20: 9.467546224437505}
2025-06-04 17:22:43,208 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 2, 类型: <class 'int'>
2025-06-04 17:22:43,209 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 41: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 2
2025-06-04 17:22:43,226 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 41: Successfully processed choice for NH 2. END of try block.
2025-06-04 17:22:43,227 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 (Energy: 0.9886) 开始决策...
2025-06-04 17:22:43,227 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 评估有效候选 (Path: [46]):
2025-06-04 17:22:43,228 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 46 最终有效候选及Q值: {40: 20.337638194844033}
2025-06-04 17:22:43,228 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 40, 类型: <class 'int'>
2025-06-04 17:22:43,230 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 46: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 40
2025-06-04 17:22:43,248 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 46: Successfully processed choice for NH 40. END of try block.
2025-06-04 17:22:43,249 - WSN_Simulation - INFO - Epoch 0 结束: 孤立普通节点数 = 5, CH数 = 11
2025-06-04 17:22:43,250 - WSN_Simulation - INFO - 由于候选CH不足或Q学习后孤立节点多，下一轮 p_opt 调整为: 0.155
2025-06-04 17:22:43,250 - WSN_Simulation - INFO - --- 第 19 轮结束 ---
2025-06-04 17:22:43,251 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 20)...
2025-06-04 17:22:43,758 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0020.png
2025-06-04 17:22:43,758 - WSN_Simulation - INFO - --- 开始第 20 轮  ---
2025-06-04 17:22:43,760 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:43,760 - WSN_Simulation - INFO - --- ***** 新 Epoch 开始 (轮次 20) ***** ---
2025-06-04 17:22:43,760 - WSN_Simulation - INFO - Epoch 0 结束: 更新CH竞争Q表...
2025-06-04 17:22:45,372 - WSN_Simulation - INFO - Epoch开始，CH竞争Epsilon更新为: 0.4910
2025-06-04 17:22:45,373 - WSN_Simulation - INFO - Epoch开始：节点通过Q学习竞争成为CH...
2025-06-04 17:22:45,382 - WSN_Simulation - INFO - Epoch CH竞争：65 个节点宣告想成为CH: [0, 1, 2, 3, 4, 5, 6, 11, 14, 16, 17, 18, 20, 21, 22, 25, 27, 28, 29, 30, 31, 32, 33, 35, 36, 37, 38, 39, 41, 42, 43, 44, 45, 46, 49, 50, 52, 53, 54, 55, 56, 57, 60, 61, 63, 68, 70, 71, 73, 74, 75, 78, 79, 81, 82, 83, 84, 85, 86, 87, 90, 91, 94, 98, 99]
2025-06-04 17:22:45,384 - WSN_Simulation - INFO - CH最终确定阶段：从 65 个宣告者中确定本Epoch的CH...
2025-06-04 17:22:45,388 - WSN_Simulation - INFO - 最终确认本Epoch活跃CH (13个): [3, 33, 73, 99, 54, 43, 6, 30, 98, 0, 90, 55, 83]
2025-06-04 17:22:45,389 - WSN_Simulation - INFO - Epoch开始：更新CH竞争Q表 (基于宣告和最终确认)...
2025-06-04 17:22:48,595 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:50,196 - WSN_Simulation - INFO - Q学习选择CH阶段：81 个节点初次分配，0 个节点切换了CH。
2025-06-04 17:22:50,196 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:50,197 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 1.0000) 开始决策...
2025-06-04 17:22:50,199 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:22:50,200 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 0.0}
2025-06-04 17:22:50,200 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:22:50,201 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:22:50,218 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:22:50,220 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9999) 开始决策...
2025-06-04 17:22:50,222 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:22:50,222 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 0.0}
2025-06-04 17:22:50,223 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 0.0, 3: 0.0}
2025-06-04 17:22:50,224 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:22:50,224 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:22:50,241 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:22:50,242 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9983) 开始决策...
2025-06-04 17:22:50,243 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:22:50,243 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 0.0}
2025-06-04 17:22:50,244 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:22:50,244 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:22:50,260 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:22:50,261 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9982) 开始决策...
2025-06-04 17:22:50,261 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:22:50,262 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: 0.0}
2025-06-04 17:22:50,262 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:22:50,262 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:22:50,280 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:22:50,281 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9982) 开始决策...
2025-06-04 17:22:50,282 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:22:50,282 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 0.0}
2025-06-04 17:22:50,283 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:22:50,283 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:22:50,302 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:22:50,303 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9981) 开始决策...
2025-06-04 17:22:50,303 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:22:50,304 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:22:50,305 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:22:50,305 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:22:50,306 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 0.0}
2025-06-04 17:22:50,306 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:50,306 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:50,307 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:50,307 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:22:50,323 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:50,324 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9980) 开始决策...
2025-06-04 17:22:50,325 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:22:50,325 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:22:50,325 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:22:50,327 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:22:50,328 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0}
2025-06-04 17:22:50,328 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 0.0}
2025-06-04 17:22:50,329 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:50,330 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 0.0, 80: 0.0, 73: 0.0}
2025-06-04 17:22:50,330 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 0.0, 80: 0.0, 73: 0.0, 99: 0.0}
2025-06-04 17:22:50,331 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:22:50,332 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:22:50,332 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:50,334 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:50,351 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:22:50,352 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9978) 开始决策...
2025-06-04 17:22:50,354 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:22:50,357 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:22:50,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:22:50,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:22:50,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0, 65: 0.0}
2025-06-04 17:22:50,359 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:22:50,360 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0, 65: 0.0, 80: 0.0, 99: 0.0}
2025-06-04 17:22:50,360 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0, 65: 0.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:22:50,361 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:22:50,361 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:22:50,362 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:50,362 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:50,378 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:22:50,380 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9977) 开始决策...
2025-06-04 17:22:50,380 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:22:50,381 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 0.0}
2025-06-04 17:22:50,381 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:22:50,382 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:22:50,397 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:22:50,398 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9975) 开始决策...
2025-06-04 17:22:50,400 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:22:50,400 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:22:50,402 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 0.0, 98: 0.0}
2025-06-04 17:22:50,403 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:22:50,404 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:22:50,424 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:22:50,424 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9974) 开始决策...
2025-06-04 17:22:50,425 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:22:50,425 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: 0.0}
2025-06-04 17:22:50,426 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: 0.0, 43: 0.0}
2025-06-04 17:22:50,426 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:22:50,427 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:22:50,442 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:22:50,443 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9969) 开始决策...
2025-06-04 17:22:50,443 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:22:50,444 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:22:50,445 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:22:50,445 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 0.0}
2025-06-04 17:22:50,446 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:50,446 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:50,446 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:50,448 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:22:50,465 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:50,466 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9967) 开始决策...
2025-06-04 17:22:50,468 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:22:50,478 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: 0.0}
2025-06-04 17:22:50,480 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: 0.0, 30: 0.0}
2025-06-04 17:22:50,481 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: 0.0, 30: 0.0, 43: 0.0}
2025-06-04 17:22:50,482 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: 0.0, 30: 0.0, 43: 0.0, 33: 0.0}
2025-06-04 17:22:50,483 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 33, 类型: <class 'int'>
2025-06-04 17:22:50,484 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 33
2025-06-04 17:22:50,509 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 33. END of try block.
2025-06-04 17:22:50,512 - WSN_Simulation - INFO - --- 第 20 轮结束 ---
2025-06-04 17:22:50,513 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 21)...
2025-06-04 17:22:51,038 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0021.png
2025-06-04 17:22:51,039 - WSN_Simulation - INFO - --- 开始第 21 轮  ---
2025-06-04 17:22:51,041 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:51,041 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:52,774 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，8 个节点切换了CH。
2025-06-04 17:22:52,775 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:52,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9988) 开始决策...
2025-06-04 17:22:52,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:22:52,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 3.0400769886057346}
2025-06-04 17:22:52,776 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:22:52,777 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:22:52,796 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:22:52,796 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9993) 开始决策...
2025-06-04 17:22:52,797 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:22:52,799 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 6.494221136443875}
2025-06-04 17:22:52,799 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 6.494221136443875, 3: 0.0}
2025-06-04 17:22:52,800 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:22:52,800 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:22:52,819 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:22:52,820 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9976) 开始决策...
2025-06-04 17:22:52,821 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:22:52,822 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 2.3239198945943893}
2025-06-04 17:22:52,823 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:22:52,823 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:22:52,842 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:22:52,844 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9976) 开始决策...
2025-06-04 17:22:52,845 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:22:52,846 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -0.4117843282077406}
2025-06-04 17:22:52,846 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:22:52,846 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:22:52,865 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:22:52,866 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9971) 开始决策...
2025-06-04 17:22:52,870 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:22:52,871 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 7.058068132807076}
2025-06-04 17:22:52,874 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:22:52,875 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:22:52,895 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:22:52,896 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9948) 开始决策...
2025-06-04 17:22:52,896 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:22:52,898 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:22:52,899 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:22:52,899 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:22:52,900 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 17.537283882123827}
2025-06-04 17:22:52,901 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:52,901 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:52,903 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 17.537283882123827
2025-06-04 17:22:52,904 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:22:52,920 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:52,921 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9975) 开始决策...
2025-06-04 17:22:52,923 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:22:52,924 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:22:52,925 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:22:52,926 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:22:52,926 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0}
2025-06-04 17:22:52,928 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 3.2490202286364678}
2025-06-04 17:22:52,928 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 3.2490202286364678, 80: 0.0}
2025-06-04 17:22:52,928 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 3.2490202286364678, 80: 0.0, 73: 0.0}
2025-06-04 17:22:52,929 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 3.2490202286364678, 80: 0.0, 73: 0.0, 99: 0.0}
2025-06-04 17:22:52,929 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:22:52,930 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:22:52,930 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:52,930 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:52,950 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:22:52,951 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9976) 开始决策...
2025-06-04 17:22:52,952 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:22:52,953 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:22:52,955 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:22:52,956 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:22:52,957 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0, 65: -10.0}
2025-06-04 17:22:52,958 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0, 65: -10.0, 80: 0.0}
2025-06-04 17:22:52,958 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:22:52,959 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 0.0, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:22:52,960 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:52,960 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:52,960 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:52,961 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:52,978 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:52,979 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9963) 开始决策...
2025-06-04 17:22:52,980 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:22:52,980 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 4.939494194349816}
2025-06-04 17:22:52,981 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:22:52,983 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:22:53,004 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:22:53,005 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9943) 开始决策...
2025-06-04 17:22:53,006 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:22:53,008 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 7.998424302435509}
2025-06-04 17:22:53,008 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 7.998424302435509, 98: 0.0}
2025-06-04 17:22:53,009 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:22:53,009 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:22:53,025 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:22:53,026 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9910) 开始决策...
2025-06-04 17:22:53,027 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:22:53,029 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: 0.0}
2025-06-04 17:22:53,030 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: 0.0, 43: -10.0}
2025-06-04 17:22:53,030 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:22:53,031 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:22:53,050 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:22:53,050 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9931) 开始决策...
2025-06-04 17:22:53,052 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:22:53,053 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:22:53,054 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:22:53,056 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 17.71915246764217}
2025-06-04 17:22:53,057 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:53,058 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:53,058 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 17.71915246764217
2025-06-04 17:22:53,060 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:22:53,076 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:53,076 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9894) 开始决策...
2025-06-04 17:22:53,077 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:22:53,077 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: 0.0}
2025-06-04 17:22:53,078 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: 0.0, 30: 0.0}
2025-06-04 17:22:53,078 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: 0.0, 30: 0.0, 43: 0.0}
2025-06-04 17:22:53,079 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: 0.0, 30: 0.0, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:22:53,080 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 54, 类型: <class 'int'>
2025-06-04 17:22:53,080 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 54
2025-06-04 17:22:53,099 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 54. END of try block.
2025-06-04 17:22:53,100 - WSN_Simulation - INFO - --- 第 21 轮结束 ---
2025-06-04 17:22:53,102 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 22)...
2025-06-04 17:22:53,663 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0022.png
2025-06-04 17:22:53,664 - WSN_Simulation - INFO - --- 开始第 22 轮  ---
2025-06-04 17:22:53,665 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:53,666 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:55,468 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，13 个节点切换了CH。
2025-06-04 17:22:55,469 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:55,469 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9976) 开始决策...
2025-06-04 17:22:55,471 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:22:55,472 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 6.4151240546853785}
2025-06-04 17:22:55,472 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:22:55,473 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:22:55,490 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:22:55,491 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9987) 开始决策...
2025-06-04 17:22:55,492 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:22:55,493 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 12.948306239212659}
2025-06-04 17:22:55,493 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 12.948306239212659, 3: 0.0}
2025-06-04 17:22:55,494 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:22:55,494 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:22:55,512 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:22:55,513 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9969) 开始决策...
2025-06-04 17:22:55,513 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:22:55,514 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 4.623357397035445}
2025-06-04 17:22:55,515 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:22:55,516 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:22:55,534 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:22:55,535 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9970) 开始决策...
2025-06-04 17:22:55,536 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:22:55,538 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -0.820854006340793}
2025-06-04 17:22:55,539 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:22:55,539 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:22:55,556 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:22:55,556 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9960) 开始决策...
2025-06-04 17:22:55,557 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:22:55,559 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: -3.0125125485209967}
2025-06-04 17:22:55,560 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:22:55,560 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:22:55,578 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:22:55,579 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9915) 开始决策...
2025-06-04 17:22:55,579 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:22:55,580 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:22:55,580 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:22:55,580 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:22:55,581 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 33.320839376035266}
2025-06-04 17:22:55,581 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:55,582 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:55,582 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 33.320839376035266
2025-06-04 17:22:55,582 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:22:55,601 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:55,601 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9970) 开始决策...
2025-06-04 17:22:55,602 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:22:55,603 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:22:55,604 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:22:55,605 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:22:55,606 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0}
2025-06-04 17:22:55,608 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 6.173138434409289}
2025-06-04 17:22:55,608 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 6.173138434409289, 80: 0.0}
2025-06-04 17:22:55,608 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 6.173138434409289, 80: 0.0, 73: 0.0}
2025-06-04 17:22:55,609 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 6.173138434409289, 80: 0.0, 73: 0.0, 99: 0.0}
2025-06-04 17:22:55,610 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:22:55,610 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:22:55,610 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:55,612 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:55,628 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:22:55,629 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9968) 开始决策...
2025-06-04 17:22:55,629 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:22:55,630 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:22:55,631 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:22:55,631 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 5.307975600912534}
2025-06-04 17:22:55,633 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 5.307975600912534, 65: -10.0}
2025-06-04 17:22:55,633 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 5.307975600912534, 65: -10.0, 80: 0.0}
2025-06-04 17:22:55,635 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 5.307975600912534, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:22:55,636 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 5.307975600912534, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:22:55,639 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:55,640 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:55,641 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:55,641 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:55,659 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:55,660 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9950) 开始决策...
2025-06-04 17:22:55,660 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:22:55,660 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 9.805183845791682}
2025-06-04 17:22:55,661 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:22:55,661 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:22:55,678 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:22:55,680 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9911) 开始决策...
2025-06-04 17:22:55,680 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:22:55,681 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 15.873769948213663}
2025-06-04 17:22:55,682 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 15.873769948213663, 98: 0.0}
2025-06-04 17:22:55,683 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:22:55,683 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:22:55,701 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:22:55,702 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9897) 开始决策...
2025-06-04 17:22:55,703 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:22:55,704 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -1.5839254269775442}
2025-06-04 17:22:55,706 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -1.5839254269775442, 43: -10.0}
2025-06-04 17:22:55,707 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:22:55,707 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:22:55,723 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:22:55,724 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9894) 开始决策...
2025-06-04 17:22:55,725 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:22:55,726 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:22:55,726 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:22:55,726 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 33.66638968852013}
2025-06-04 17:22:55,728 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:55,728 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:55,729 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 33.66638968852013
2025-06-04 17:22:55,730 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:22:55,747 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:55,748 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9882) 开始决策...
2025-06-04 17:22:55,748 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:22:55,748 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494}
2025-06-04 17:22:55,749 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 0.0}
2025-06-04 17:22:55,750 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 0.0, 43: 0.0}
2025-06-04 17:22:55,751 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 0.0, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:22:55,751 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:22:55,752 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:22:55,768 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:22:55,769 - WSN_Simulation - INFO - --- 第 22 轮结束 ---
2025-06-04 17:22:55,770 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 23)...
2025-06-04 17:22:56,389 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0023.png
2025-06-04 17:22:56,390 - WSN_Simulation - INFO - --- 开始第 23 轮  ---
2025-06-04 17:22:56,390 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:56,391 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:22:57,928 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，13 个节点切换了CH。
2025-06-04 17:22:57,929 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:22:57,930 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9964) 开始决策...
2025-06-04 17:22:57,931 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:22:57,931 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 9.753321570543257}
2025-06-04 17:22:57,932 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:22:57,932 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:22:57,948 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:22:57,949 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9981) 开始决策...
2025-06-04 17:22:57,950 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:22:57,951 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 19.326806872178405}
2025-06-04 17:22:57,952 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 19.326806872178405, 3: 0.0}
2025-06-04 17:22:57,953 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:22:57,953 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:22:57,969 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:22:57,970 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9962) 开始决策...
2025-06-04 17:22:57,971 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:22:57,973 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 6.884169974171364}
2025-06-04 17:22:57,975 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:22:57,975 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:22:57,993 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:22:57,994 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9963) 开始决策...
2025-06-04 17:22:57,995 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:22:57,995 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -1.2272361808999042}
2025-06-04 17:22:57,996 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:22:57,996 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:22:58,014 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:22:58,015 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9949) 开始决策...
2025-06-04 17:22:58,016 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:22:58,016 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 4.018650252898093}
2025-06-04 17:22:58,016 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:22:58,017 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:22:58,034 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:22:58,035 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9882) 开始决策...
2025-06-04 17:22:58,036 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:22:58,037 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:22:58,038 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:22:58,040 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:22:58,042 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 47.52603932055556}
2025-06-04 17:22:58,043 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:58,044 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:58,044 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 47.52603932055556
2025-06-04 17:22:58,046 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:22:58,062 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:58,063 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9964) 开始决策...
2025-06-04 17:22:58,063 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:22:58,064 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:22:58,064 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:22:58,065 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:22:58,065 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0}
2025-06-04 17:22:58,066 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 8.804844819604828}
2025-06-04 17:22:58,066 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 8.804844819604828, 80: 0.0}
2025-06-04 17:22:58,068 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 8.804844819604828, 80: 0.0, 73: 0.0}
2025-06-04 17:22:58,069 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 8.804844819604828, 80: 0.0, 73: 0.0, 99: 0.0}
2025-06-04 17:22:58,070 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:22:58,070 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:22:58,071 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:58,073 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 99 (Type: CH)
2025-06-04 17:22:58,089 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:22:58,089 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9960) 开始决策...
2025-06-04 17:22:58,090 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:22:58,091 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:22:58,091 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:22:58,093 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 10.085153641733815}
2025-06-04 17:22:58,093 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 10.085153641733815, 65: -10.0}
2025-06-04 17:22:58,094 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 10.085153641733815, 65: -10.0, 80: 0.0}
2025-06-04 17:22:58,095 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 10.085153641733815, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:22:58,095 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 10.085153641733815, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:22:58,096 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:22:58,096 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:22:58,096 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:22:58,098 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:22:58,114 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:22:58,115 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9936) 开始决策...
2025-06-04 17:22:58,116 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:22:58,119 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 14.6097111165926}
2025-06-04 17:22:58,120 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:22:58,120 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:22:58,245 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:22:58,246 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9879) 开始决策...
2025-06-04 17:22:58,246 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:22:58,247 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 23.668574062826465}
2025-06-04 17:22:58,247 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 23.668574062826465, 98: 0.0}
2025-06-04 17:22:58,248 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:22:58,248 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:22:58,264 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:22:58,265 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9884) 开始决策...
2025-06-04 17:22:58,265 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:22:58,266 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -3.139458241436477}
2025-06-04 17:22:58,266 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -3.139458241436477, 43: -10.0}
2025-06-04 17:22:58,267 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:22:58,267 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:22:58,282 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:22:58,285 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9857) 开始决策...
2025-06-04 17:22:58,286 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:22:58,289 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:22:58,291 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:22:58,293 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 48.018903187310286}
2025-06-04 17:22:58,293 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:22:58,294 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:22:58,294 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 48.018903187310286
2025-06-04 17:22:58,295 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:22:58,314 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:22:58,314 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9861) 开始决策...
2025-06-04 17:22:58,315 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:22:58,316 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494}
2025-06-04 17:22:58,317 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 6.531977998706457}
2025-06-04 17:22:58,318 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 6.531977998706457, 43: 0.0}
2025-06-04 17:22:58,319 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 6.531977998706457, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:22:58,320 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:22:58,321 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:22:58,338 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:22:58,338 - WSN_Simulation - INFO - --- 第 23 轮结束 ---
2025-06-04 17:22:58,339 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 24)...
2025-06-04 17:22:58,902 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0024.png
2025-06-04 17:22:58,903 - WSN_Simulation - INFO - --- 开始第 24 轮  ---
2025-06-04 17:22:58,904 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:22:58,904 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:00,779 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，10 个节点切换了CH。
2025-06-04 17:23:00,780 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:00,781 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9952) 开始决策...
2025-06-04 17:23:00,781 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:00,782 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 13.118426151906474}
2025-06-04 17:23:00,783 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:00,784 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:00,804 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:00,806 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9975) 开始决策...
2025-06-04 17:23:00,807 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:00,807 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 25.630545995842027}
2025-06-04 17:23:00,808 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 25.630545995842027, 3: 0.0}
2025-06-04 17:23:00,808 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:00,810 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:00,832 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:00,834 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9955) 开始决策...
2025-06-04 17:23:00,835 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:00,836 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 9.105817070398409}
2025-06-04 17:23:00,838 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:00,838 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:00,865 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:00,867 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9956) 开始决策...
2025-06-04 17:23:00,868 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:00,870 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -1.6309577269208133}
2025-06-04 17:23:00,871 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:00,872 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:00,894 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:00,894 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9937) 开始决策...
2025-06-04 17:23:00,895 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:00,896 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 11.029881544823596}
2025-06-04 17:23:00,897 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:00,898 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:00,925 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:00,926 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9849) 开始决策...
2025-06-04 17:23:00,927 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:00,928 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:00,928 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:00,929 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:23:00,929 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 60.310719270623835}
2025-06-04 17:23:00,931 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:00,932 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:00,934 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 60.310719270623835
2025-06-04 17:23:00,935 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:00,953 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:00,954 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9895) 开始决策...
2025-06-04 17:23:00,955 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:00,958 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:00,960 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:23:00,961 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:23:00,962 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0}
2025-06-04 17:23:00,963 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 8.804844819604828}
2025-06-04 17:23:00,963 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 8.804844819604828, 80: 0.0}
2025-06-04 17:23:00,964 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 8.804844819604828, 80: 0.0, 73: 0.0}
2025-06-04 17:23:00,964 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 0.0, 65: 8.804844819604828, 80: 0.0, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:00,965 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 59, 类型: <class 'int'>
2025-06-04 17:23:00,966 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 59
2025-06-04 17:23:00,967 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:00,968 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 59 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:00,988 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 59. END of try block.
2025-06-04 17:23:00,989 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9952) 开始决策...
2025-06-04 17:23:00,991 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:00,992 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:00,992 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:00,994 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 14.384613878472967}
2025-06-04 17:23:00,994 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 14.384613878472967, 65: -10.0}
2025-06-04 17:23:00,995 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 14.384613878472967, 65: -10.0, 80: 0.0}
2025-06-04 17:23:00,996 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 14.384613878472967, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:00,997 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 14.384613878472967, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:00,997 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:00,998 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:00,998 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:01,000 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:01,016 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:01,018 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9923) 开始决策...
2025-06-04 17:23:01,019 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:01,021 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 19.35362037441209}
2025-06-04 17:23:01,022 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:01,023 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:01,041 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:01,041 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9847) 开始决策...
2025-06-04 17:23:01,042 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:01,043 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 31.35478883672056}
2025-06-04 17:23:01,043 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 31.35478883672056, 98: 0.0}
2025-06-04 17:23:01,044 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:01,044 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:01,063 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:01,064 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9871) 开始决策...
2025-06-04 17:23:01,065 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:01,065 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -4.711594640575749}
2025-06-04 17:23:01,066 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -4.711594640575749, 43: -10.0}
2025-06-04 17:23:01,068 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:01,069 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:01,086 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:01,088 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9819) 开始决策...
2025-06-04 17:23:01,089 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:01,091 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:01,091 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:23:01,092 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 60.93616533622143}
2025-06-04 17:23:01,093 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:01,094 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:01,094 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 60.93616533622143
2025-06-04 17:23:01,095 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:01,109 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:01,110 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9840) 开始决策...
2025-06-04 17:23:01,112 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:01,112 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494}
2025-06-04 17:23:01,112 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 13.00568325886693}
2025-06-04 17:23:01,113 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 13.00568325886693, 43: 0.0}
2025-06-04 17:23:01,113 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 13.00568325886693, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:01,114 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:01,114 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:01,131 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:01,132 - WSN_Simulation - INFO - --- 第 24 轮结束 ---
2025-06-04 17:23:01,132 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 25)...
2025-06-04 17:23:01,654 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0025.png
2025-06-04 17:23:01,656 - WSN_Simulation - INFO - --- 开始第 25 轮  ---
2025-06-04 17:23:01,658 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:01,658 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:03,407 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，6 个节点切换了CH。
2025-06-04 17:23:03,408 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:03,410 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9940) 开始决策...
2025-06-04 17:23:03,411 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:03,411 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 16.446872256529062}
2025-06-04 17:23:03,411 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:03,412 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:03,430 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:03,430 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9969) 开始决策...
2025-06-04 17:23:03,430 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:03,430 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 31.824832048522495}
2025-06-04 17:23:03,430 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 31.824832048522495, 3: 0.0}
2025-06-04 17:23:03,431 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:03,432 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:03,452 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:03,452 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9949) 开始决策...
2025-06-04 17:23:03,453 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:03,455 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 11.333466021459257}
2025-06-04 17:23:03,455 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:03,455 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:03,479 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:03,480 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9951) 开始决策...
2025-06-04 17:23:03,481 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:03,481 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -2.032005250688903}
2025-06-04 17:23:03,483 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:03,484 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:03,506 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:03,510 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9926) 开始决策...
2025-06-04 17:23:03,512 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:03,513 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 17.941738126747637}
2025-06-04 17:23:03,515 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:03,518 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:03,548 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:03,549 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9816) 开始决策...
2025-06-04 17:23:03,550 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:03,551 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:03,552 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:03,553 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:23:03,553 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 71.81693122568528}
2025-06-04 17:23:03,555 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:03,556 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:03,556 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 71.81693122568528
2025-06-04 17:23:03,557 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:03,590 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:03,590 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9891) 开始决策...
2025-06-04 17:23:03,592 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:03,592 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:03,594 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:23:03,594 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:23:03,595 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:03,596 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 8.804844819604828}
2025-06-04 17:23:03,596 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 8.804844819604828, 80: 0.0}
2025-06-04 17:23:03,596 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 8.804844819604828, 80: 0.0, 73: 0.0}
2025-06-04 17:23:03,598 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 8.804844819604828, 80: 0.0, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:03,599 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:23:03,599 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:23:03,601 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:03,602 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:03,624 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:23:03,624 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9943) 开始决策...
2025-06-04 17:23:03,625 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:03,626 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:03,626 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:03,626 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 18.254128091538202}
2025-06-04 17:23:03,628 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 18.254128091538202, 65: -10.0}
2025-06-04 17:23:03,628 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 18.254128091538202, 65: -10.0, 80: 0.0}
2025-06-04 17:23:03,629 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 18.254128091538202, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:03,629 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 18.254128091538202, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:03,630 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:03,631 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:03,631 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:03,632 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:03,658 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:03,658 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9909) 开始决策...
2025-06-04 17:23:03,659 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:03,659 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 24.037517799379962}
2025-06-04 17:23:03,659 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:03,661 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:03,681 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:03,682 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9815) 开始决策...
2025-06-04 17:23:03,683 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:03,684 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 39.01139489686315}
2025-06-04 17:23:03,684 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 39.01139489686315, 98: 0.0}
2025-06-04 17:23:03,685 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:03,685 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:03,705 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:03,706 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9858) 开始决策...
2025-06-04 17:23:03,706 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:03,708 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -6.255519671401027}
2025-06-04 17:23:03,708 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -6.255519671401027, 43: -10.0}
2025-06-04 17:23:03,708 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:03,709 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:03,726 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:03,726 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9782) 开始决策...
2025-06-04 17:23:03,728 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:03,728 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:03,728 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:23:03,728 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 72.56170127024146}
2025-06-04 17:23:03,729 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:03,730 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:03,730 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 72.56170127024146
2025-06-04 17:23:03,731 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:03,749 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:03,750 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9820) 开始决策...
2025-06-04 17:23:03,752 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:03,753 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494}
2025-06-04 17:23:03,754 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 19.411854922909168}
2025-06-04 17:23:03,754 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 19.411854922909168, 43: 0.0}
2025-06-04 17:23:03,757 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 19.411854922909168, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:03,758 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:03,759 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:03,773 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:03,773 - WSN_Simulation - INFO - --- 第 25 轮结束 ---
2025-06-04 17:23:03,774 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 26)...
2025-06-04 17:23:04,341 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0026.png
2025-06-04 17:23:04,342 - WSN_Simulation - INFO - --- 开始第 26 轮  ---
2025-06-04 17:23:04,342 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:04,343 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:06,165 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，8 个节点切换了CH。
2025-06-04 17:23:06,166 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:06,168 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9928) 开始决策...
2025-06-04 17:23:06,169 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:06,171 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 19.772006535468194}
2025-06-04 17:23:06,171 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:06,173 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:06,191 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:06,191 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9963) 开始决策...
2025-06-04 17:23:06,192 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:06,193 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 37.938637004545875}
2025-06-04 17:23:06,193 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 37.938637004545875, 3: 0.0}
2025-06-04 17:23:06,193 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:06,194 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:06,210 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:06,210 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9942) 开始决策...
2025-06-04 17:23:06,210 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:06,210 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 1.220131361244663}
2025-06-04 17:23:06,212 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:06,212 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:06,228 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:06,228 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9944) 开始决策...
2025-06-04 17:23:06,229 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:06,229 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -2.4304054924267007}
2025-06-04 17:23:06,230 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:06,230 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:06,246 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:06,246 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9915) 开始决策...
2025-06-04 17:23:06,247 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:06,248 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 24.802049222559777}
2025-06-04 17:23:06,248 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:06,250 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:06,270 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:06,270 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9783) 开始决策...
2025-06-04 17:23:06,271 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:06,271 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:06,272 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:06,273 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:23:06,273 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 82.17252198524058}
2025-06-04 17:23:06,273 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:06,274 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:06,274 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 82.17252198524058
2025-06-04 17:23:06,275 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:06,293 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:06,293 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9886) 开始决策...
2025-06-04 17:23:06,294 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:06,294 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:06,295 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:23:06,295 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:23:06,296 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:06,296 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 11.173380566280812}
2025-06-04 17:23:06,296 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 11.173380566280812, 80: 0.0}
2025-06-04 17:23:06,296 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 11.173380566280812, 80: 0.0, 73: 0.0}
2025-06-04 17:23:06,298 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 11.173380566280812, 80: 0.0, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:06,298 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:23:06,299 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:23:06,299 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:06,300 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:06,317 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:23:06,318 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9935) 开始决策...
2025-06-04 17:23:06,319 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:06,320 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:06,321 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:06,322 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 21.736690883296916}
2025-06-04 17:23:06,322 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 21.736690883296916, 65: -10.0}
2025-06-04 17:23:06,323 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 21.736690883296916, 65: -10.0, 80: 0.0}
2025-06-04 17:23:06,323 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 21.736690883296916, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:06,324 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 21.736690883296916, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:06,324 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:06,325 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:06,325 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:06,326 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:06,340 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:06,340 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9895) 开始决策...
2025-06-04 17:23:06,341 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:06,342 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 28.66200350982474}
2025-06-04 17:23:06,342 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:06,343 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:06,358 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:06,361 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9784) 开始决策...
2025-06-04 17:23:06,362 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:06,362 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 28.62128094789452}
2025-06-04 17:23:06,362 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 28.62128094789452, 98: 0.0}
2025-06-04 17:23:06,363 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:06,363 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:06,380 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:06,380 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9844) 开始决策...
2025-06-04 17:23:06,381 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:06,382 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -7.801305823076315}
2025-06-04 17:23:06,382 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -7.801305823076315, 43: -10.0}
2025-06-04 17:23:06,384 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:06,384 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:06,404 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:06,405 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9745) 开始决策...
2025-06-04 17:23:06,406 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:06,408 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:06,408 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:23:06,409 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 83.02468361085948}
2025-06-04 17:23:06,410 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:06,410 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:06,411 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 83.02468361085948
2025-06-04 17:23:06,411 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:06,430 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:06,430 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9800) 开始决策...
2025-06-04 17:23:06,430 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:06,431 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494}
2025-06-04 17:23:06,431 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 25.75116832679435}
2025-06-04 17:23:06,433 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 25.75116832679435, 43: 0.0}
2025-06-04 17:23:06,433 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 25.75116832679435, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:06,434 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:06,435 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:06,458 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:06,460 - WSN_Simulation - INFO - --- 第 26 轮结束 ---
2025-06-04 17:23:06,460 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 27)...
2025-06-04 17:23:07,356 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0027.png
2025-06-04 17:23:07,360 - WSN_Simulation - INFO - --- 开始第 27 轮  ---
2025-06-04 17:23:07,362 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:07,363 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:09,150 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，13 个节点切换了CH。
2025-06-04 17:23:09,150 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:09,150 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9916) 开始决策...
2025-06-04 17:23:09,151 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:09,153 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 23.060882040690935}
2025-06-04 17:23:09,153 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:09,153 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:09,171 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:09,172 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9957) 开始决策...
2025-06-04 17:23:09,173 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:09,173 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 43.98782847126224}
2025-06-04 17:23:09,174 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 43.98782847126224, 3: 0.0}
2025-06-04 17:23:09,174 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:09,175 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:09,191 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:09,191 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9935) 开始决策...
2025-06-04 17:23:09,192 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:09,192 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 3.524230782982271}
2025-06-04 17:23:09,193 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:09,193 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:09,212 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:09,213 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9938) 开始决策...
2025-06-04 17:23:09,213 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:09,214 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -2.8262249249545097}
2025-06-04 17:23:09,214 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:09,214 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:09,230 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:09,230 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9904) 开始决策...
2025-06-04 17:23:09,231 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:09,232 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 14.554028730334178}
2025-06-04 17:23:09,232 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:09,234 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:09,251 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:09,252 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9750) 开始决策...
2025-06-04 17:23:09,252 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:09,254 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:09,254 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:09,254 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:23:09,255 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 91.49255366884034}
2025-06-04 17:23:09,256 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:09,256 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:09,256 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 91.49255366884034
2025-06-04 17:23:09,257 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:09,273 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:09,274 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9881) 开始决策...
2025-06-04 17:23:09,275 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:09,276 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:09,276 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:23:09,276 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:23:09,278 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:09,278 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:09,278 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 0.0}
2025-06-04 17:23:09,279 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 0.0, 73: 0.0}
2025-06-04 17:23:09,279 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 0.0, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:09,280 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 80, 类型: <class 'int'>
2025-06-04 17:23:09,280 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 80
2025-06-04 17:23:09,280 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:09,281 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 80 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:09,299 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 80. END of try block.
2025-06-04 17:23:09,300 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9927) 开始决策...
2025-06-04 17:23:09,301 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:09,302 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:09,303 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:09,304 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 24.87099739587976}
2025-06-04 17:23:09,306 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 24.87099739587976, 65: -10.0}
2025-06-04 17:23:09,307 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 24.87099739587976, 65: -10.0, 80: 0.0}
2025-06-04 17:23:09,308 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 24.87099739587976, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:09,308 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 24.87099739587976, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:09,309 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:09,309 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:09,310 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:09,310 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:09,325 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:09,326 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9882) 开始决策...
2025-06-04 17:23:09,326 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:09,327 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 33.22767162289165}
2025-06-04 17:23:09,327 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:09,327 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:09,344 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:09,345 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9752) 开始决策...
2025-06-04 17:23:09,346 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:09,347 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 36.30179127690107}
2025-06-04 17:23:09,347 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 36.30179127690107, 98: 0.0}
2025-06-04 17:23:09,347 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:09,348 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:09,363 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:09,364 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9831) 开始决策...
2025-06-04 17:23:09,365 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:09,366 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -9.33401929665268}
2025-06-04 17:23:09,366 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -9.33401929665268, 43: -10.0}
2025-06-04 17:23:09,369 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:09,369 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:09,386 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:09,387 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9707) 开始决策...
2025-06-04 17:23:09,388 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:09,389 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:09,390 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:23:09,390 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 92.4413677174157}
2025-06-04 17:23:09,391 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:09,392 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:09,393 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 92.4413677174157
2025-06-04 17:23:09,393 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:09,410 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:09,411 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9779) 开始决策...
2025-06-04 17:23:09,412 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:09,413 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494}
2025-06-04 17:23:09,413 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 32.02442562997004}
2025-06-04 17:23:09,414 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 32.02442562997004, 43: 0.0}
2025-06-04 17:23:09,414 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -4.872261670576494, 30: 32.02442562997004, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:09,414 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 54, 类型: <class 'int'>
2025-06-04 17:23:09,415 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 54
2025-06-04 17:23:09,431 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 54. END of try block.
2025-06-04 17:23:09,433 - WSN_Simulation - INFO - --- 第 27 轮结束 ---
2025-06-04 17:23:09,433 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 28)...
2025-06-04 17:23:10,088 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0028.png
2025-06-04 17:23:10,088 - WSN_Simulation - INFO - --- 开始第 28 轮  ---
2025-06-04 17:23:10,088 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:10,089 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:11,526 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，14 个节点切换了CH。
2025-06-04 17:23:11,527 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:11,527 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9904) 开始决策...
2025-06-04 17:23:11,529 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:11,529 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 26.217447349102805}
2025-06-04 17:23:11,529 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:11,530 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:11,546 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:11,546 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9940) 开始决策...
2025-06-04 17:23:11,547 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:11,547 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 43.98782847126224}
2025-06-04 17:23:11,548 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 43.98782847126224, 3: 3.2471756348552008}
2025-06-04 17:23:11,548 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:11,549 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:11,564 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:11,564 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9928) 开始决策...
2025-06-04 17:23:11,565 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:11,565 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 5.804046017295114}
2025-06-04 17:23:11,566 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:11,566 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:11,582 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:11,582 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9932) 开始决策...
2025-06-04 17:23:11,583 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:11,583 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -3.2194093563644297}
2025-06-04 17:23:11,584 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:11,584 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:11,600 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:11,603 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9893) 开始决策...
2025-06-04 17:23:11,604 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:11,605 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 21.43663830453779}
2025-06-04 17:23:11,606 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:11,606 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:11,623 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:11,624 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9717) 开始决策...
2025-06-04 17:23:11,624 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:11,625 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:11,625 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:11,625 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:23:11,626 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 99.88058218408014}
2025-06-04 17:23:11,626 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:11,626 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:11,626 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 99.88058218408014
2025-06-04 17:23:11,628 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:11,644 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:11,645 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9877) 开始决策...
2025-06-04 17:23:11,645 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:11,646 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:11,646 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0}
2025-06-04 17:23:11,647 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0}
2025-06-04 17:23:11,647 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:11,648 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:11,648 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:11,650 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:11,651 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 0.0, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:11,653 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:11,653 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:11,655 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:11,656 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:11,674 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:11,674 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9919) 开始决策...
2025-06-04 17:23:11,675 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:11,675 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:11,676 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:11,676 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 27.691873257204314}
2025-06-04 17:23:11,676 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 27.691873257204314, 65: -10.0}
2025-06-04 17:23:11,678 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 27.691873257204314, 65: -10.0, 80: 0.0}
2025-06-04 17:23:11,678 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 27.691873257204314, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:11,678 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 27.691873257204314, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:11,679 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:11,679 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:11,680 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:11,680 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:11,694 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:11,695 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9868) 开始决策...
2025-06-04 17:23:11,696 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:11,696 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 37.57041062497831}
2025-06-04 17:23:11,697 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:11,697 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:11,712 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:11,713 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9720) 开始决策...
2025-06-04 17:23:11,713 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:11,714 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 43.86328350457454}
2025-06-04 17:23:11,714 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 43.86328350457454, 98: 0.0}
2025-06-04 17:23:11,715 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:11,716 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:11,734 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:11,735 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9817) 开始决策...
2025-06-04 17:23:11,736 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:11,738 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -10.86821817598445}
2025-06-04 17:23:11,738 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -10.86821817598445, 43: -10.0}
2025-06-04 17:23:11,739 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:11,739 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:11,755 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:11,756 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9670) 开始决策...
2025-06-04 17:23:11,757 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:11,758 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:11,758 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:23:11,758 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 100.91638341331631}
2025-06-04 17:23:11,759 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:11,759 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:11,760 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 100.91638341331631
2025-06-04 17:23:11,760 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:11,775 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:11,775 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9767) 开始决策...
2025-06-04 17:23:11,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:11,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:11,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 32.02442562997004}
2025-06-04 17:23:11,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 32.02442562997004, 43: 0.0}
2025-06-04 17:23:11,778 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 32.02442562997004, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:11,778 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:11,779 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:11,796 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:11,797 - WSN_Simulation - INFO - --- 第 28 轮结束 ---
2025-06-04 17:23:11,798 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 29)...
2025-06-04 17:23:12,355 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0029.png
2025-06-04 17:23:12,356 - WSN_Simulation - INFO - --- 开始第 29 轮  ---
2025-06-04 17:23:12,358 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:12,358 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:13,858 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，16 个节点切换了CH。
2025-06-04 17:23:13,858 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:13,859 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9892) 开始决策...
2025-06-04 17:23:13,860 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:13,860 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 28.537931805926405}
2025-06-04 17:23:13,861 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:13,861 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:13,878 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:13,879 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9934) 开始决策...
2025-06-04 17:23:13,880 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:13,880 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 49.947382257274164}
2025-06-04 17:23:13,881 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 49.947382257274164, 3: 3.2471756348552008}
2025-06-04 17:23:13,882 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:13,882 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:13,898 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:13,900 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9921) 开始决策...
2025-06-04 17:23:13,901 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:13,902 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 8.05977990605744}
2025-06-04 17:23:13,902 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:13,903 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:13,924 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:13,924 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9925) 开始决策...
2025-06-04 17:23:13,925 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:13,925 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -3.6074141350782023}
2025-06-04 17:23:13,926 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:13,927 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:13,944 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:13,944 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9882) 开始决策...
2025-06-04 17:23:13,945 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:13,946 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 28.22353675680256}
2025-06-04 17:23:13,947 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:13,947 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:13,968 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:13,968 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9684) 开始决策...
2025-06-04 17:23:13,970 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:13,971 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:13,973 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:13,975 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:23:13,975 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 107.42980784779596}
2025-06-04 17:23:13,976 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:13,976 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:13,978 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 107.42980784779596
2025-06-04 17:23:13,978 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:13,995 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:13,996 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9869) 开始决策...
2025-06-04 17:23:13,996 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:13,997 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:13,997 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 15.26013607361769}
2025-06-04 17:23:13,998 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 15.26013607361769, 12: 0.0}
2025-06-04 17:23:14,000 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 15.26013607361769, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:14,001 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 15.26013607361769, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:14,002 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 15.26013607361769, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:14,004 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 15.26013607361769, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:14,004 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 15.26013607361769, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:14,005 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:14,006 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:14,006 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.26013607361769
2025-06-04 17:23:14,007 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:14,025 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:14,026 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9911) 开始决策...
2025-06-04 17:23:14,026 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:14,026 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:14,028 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:14,028 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 30.230661532396418}
2025-06-04 17:23:14,029 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 30.230661532396418, 65: -10.0}
2025-06-04 17:23:14,029 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 30.230661532396418, 65: -10.0, 80: 0.0}
2025-06-04 17:23:14,030 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 30.230661532396418, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:14,030 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 30.230661532396418, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:14,031 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:14,033 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:14,035 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:14,035 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:14,054 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:14,055 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9854) 开始决策...
2025-06-04 17:23:14,055 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:14,055 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 42.04523994676838}
2025-06-04 17:23:14,056 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:14,056 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:14,075 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:14,076 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9689) 开始决策...
2025-06-04 17:23:14,076 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:14,078 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 51.338914042249606}
2025-06-04 17:23:14,078 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 51.338914042249606, 98: 0.0}
2025-06-04 17:23:14,079 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:14,079 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:14,096 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:14,096 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9753) 开始决策...
2025-06-04 17:23:14,098 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:14,100 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -10.86821817598445}
2025-06-04 17:23:14,101 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -10.86821817598445, 43: -5.049583032770569}
2025-06-04 17:23:14,101 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:14,102 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:14,116 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:14,119 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9632) 开始决策...
2025-06-04 17:23:14,121 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:14,122 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:14,122 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:23:14,123 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 108.54389753962685}
2025-06-04 17:23:14,124 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:14,125 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:14,125 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 108.54389753962685
2025-06-04 17:23:14,126 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:14,143 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:14,144 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9746) 开始决策...
2025-06-04 17:23:14,145 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:14,145 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:14,145 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 38.2295576383497}
2025-06-04 17:23:14,146 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 38.2295576383497, 43: 0.0}
2025-06-04 17:23:14,146 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 38.2295576383497, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:14,146 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:14,147 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:14,279 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:14,280 - WSN_Simulation - INFO - --- 第 29 轮结束 ---
2025-06-04 17:23:14,280 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 30)...
2025-06-04 17:23:14,822 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0030.png
2025-06-04 17:23:14,823 - WSN_Simulation - INFO - --- 开始第 30 轮  ---
2025-06-04 17:23:14,823 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:14,825 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:16,443 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，16 个节点切换了CH。
2025-06-04 17:23:16,444 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:16,444 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9880) 开始决策...
2025-06-04 17:23:16,446 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:16,446 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 31.68527288640915}
2025-06-04 17:23:16,447 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:16,447 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:16,462 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:16,462 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9928) 开始决策...
2025-06-04 17:23:16,464 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:16,465 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 55.84369776561798}
2025-06-04 17:23:16,466 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 55.84369776561798, 3: 3.2471756348552008}
2025-06-04 17:23:16,466 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:16,467 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:16,484 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:16,484 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9915) 开始决策...
2025-06-04 17:23:16,485 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:16,486 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 10.26213174372129}
2025-06-04 17:23:16,495 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:16,496 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:16,510 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:16,510 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9919) 开始决策...
2025-06-04 17:23:16,510 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:16,510 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -13.57133999372742}
2025-06-04 17:23:16,512 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:16,512 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:16,527 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:16,529 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9871) 开始决策...
2025-06-04 17:23:16,530 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:16,530 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 34.93657830626325}
2025-06-04 17:23:16,530 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:16,530 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:16,547 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:16,548 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9651) 开始决策...
2025-06-04 17:23:16,549 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:16,550 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:16,550 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:16,551 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0}
2025-06-04 17:23:16,551 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 0.0, -1: 114.22411094514018}
2025-06-04 17:23:16,552 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:16,554 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:16,555 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 114.22411094514018
2025-06-04 17:23:16,556 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是有效候选但未被选择。最终选择: 3 (Type: CH)
2025-06-04 17:23:16,573 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:16,573 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9862) 开始决策...
2025-06-04 17:23:16,574 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:16,574 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:16,575 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 28.994258539873613}
2025-06-04 17:23:16,575 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 28.994258539873613, 12: 0.0}
2025-06-04 17:23:16,576 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 28.994258539873613, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:16,576 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 28.994258539873613, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:16,577 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 28.994258539873613, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:16,577 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 28.994258539873613, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:16,578 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 28.994258539873613, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:16,580 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:16,580 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:16,581 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 28.994258539873613
2025-06-04 17:23:16,581 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:16,596 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:16,596 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9903) 开始决策...
2025-06-04 17:23:16,599 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:16,600 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:16,600 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:16,601 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 32.51557098006931}
2025-06-04 17:23:16,603 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 32.51557098006931, 65: -10.0}
2025-06-04 17:23:16,604 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 32.51557098006931, 65: -10.0, 80: 0.0}
2025-06-04 17:23:16,605 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 32.51557098006931, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:16,605 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 32.51557098006931, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:16,606 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:16,606 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:16,607 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:16,607 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:16,624 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:16,625 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9841) 开始决策...
2025-06-04 17:23:16,625 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:16,626 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 31.6247875473007}
2025-06-04 17:23:16,626 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:16,626 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:16,642 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:16,642 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9656) 开始决策...
2025-06-04 17:23:16,643 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:16,643 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 58.810405054752}
2025-06-04 17:23:16,644 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 58.810405054752, 98: 0.0}
2025-06-04 17:23:16,644 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:16,645 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:16,662 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:16,663 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9691) 开始决策...
2025-06-04 17:23:16,664 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:16,664 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -10.86821817598445}
2025-06-04 17:23:16,665 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -10.86821817598445, 43: -14.999087202442864}
2025-06-04 17:23:16,665 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:16,667 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:16,682 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:16,683 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9594) 开始决策...
2025-06-04 17:23:16,684 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:16,684 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:16,685 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0}
2025-06-04 17:23:16,687 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 0.0, -1: 115.40866025330634}
2025-06-04 17:23:16,687 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:16,688 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:16,688 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 115.40866025330634
2025-06-04 17:23:16,689 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是有效候选但未被选择。最终选择: 90 (Type: CH)
2025-06-04 17:23:16,704 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:16,705 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9724) 开始决策...
2025-06-04 17:23:16,706 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:16,706 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:16,707 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 44.352620041516936}
2025-06-04 17:23:16,707 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 44.352620041516936, 43: 0.0}
2025-06-04 17:23:16,707 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 44.352620041516936, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:16,708 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:16,708 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:16,724 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:16,724 - WSN_Simulation - INFO - --- 第 30 轮结束 ---
2025-06-04 17:23:16,725 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 31)...
2025-06-04 17:23:17,181 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0031.png
2025-06-04 17:23:17,182 - WSN_Simulation - INFO - --- 开始第 31 轮  ---
2025-06-04 17:23:17,182 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:17,183 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:18,722 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，16 个节点切换了CH。
2025-06-04 17:23:18,723 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:18,724 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9868) 开始决策...
2025-06-04 17:23:18,724 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:18,725 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 34.84318103071055}
2025-06-04 17:23:18,725 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:18,725 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:18,742 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:18,743 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9922) 开始决策...
2025-06-04 17:23:18,743 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:18,744 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 61.70476130151112}
2025-06-04 17:23:18,744 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 61.70476130151112, 3: 3.2471756348552008}
2025-06-04 17:23:18,744 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:18,745 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:18,761 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:18,761 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9908) 开始决策...
2025-06-04 17:23:18,762 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:18,762 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 12.470718388804574}
2025-06-04 17:23:18,763 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:18,764 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:18,779 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:18,779 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9913) 开始决策...
2025-06-04 17:23:18,780 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:18,781 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -13.861082854071778}
2025-06-04 17:23:18,781 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:18,783 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:18,799 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:18,800 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9860) 开始决策...
2025-06-04 17:23:18,800 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:18,801 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 41.57650152194791}
2025-06-04 17:23:18,801 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:18,802 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:18,816 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:18,819 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9614) 开始决策...
2025-06-04 17:23:18,820 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:18,821 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:18,821 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:18,822 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:18,823 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 114.22411094514018}
2025-06-04 17:23:18,823 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:18,824 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:18,825 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 114.22411094514018
2025-06-04 17:23:18,826 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:18,844 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:18,845 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9854) 开始决策...
2025-06-04 17:23:18,845 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:18,846 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:18,856 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 41.35496875950394}
2025-06-04 17:23:18,860 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 41.35496875950394, 12: 0.0}
2025-06-04 17:23:18,866 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 41.35496875950394, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:18,870 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 41.35496875950394, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:18,871 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 41.35496875950394, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:18,872 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 41.35496875950394, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:18,873 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 41.35496875950394, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:18,874 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:18,874 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:18,875 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 41.35496875950394
2025-06-04 17:23:18,876 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:18,907 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:18,907 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9895) 开始决策...
2025-06-04 17:23:18,908 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:18,909 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:18,909 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:18,910 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 34.571989482974914}
2025-06-04 17:23:18,910 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 34.571989482974914, 65: -10.0}
2025-06-04 17:23:18,910 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 34.571989482974914, 65: -10.0, 80: 0.0}
2025-06-04 17:23:18,912 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 34.571989482974914, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:18,913 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 34.571989482974914, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:18,914 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:18,914 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:18,915 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:18,915 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:18,933 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:18,934 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9828) 开始决策...
2025-06-04 17:23:18,935 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:18,935 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 35.94720849911977}
2025-06-04 17:23:18,936 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:18,936 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:18,953 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:18,954 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9625) 开始决策...
2025-06-04 17:23:18,954 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:18,955 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 66.17986418899565}
2025-06-04 17:23:18,955 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 66.17986418899565, 98: 0.0}
2025-06-04 17:23:18,955 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:18,956 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:18,971 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:18,972 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9677) 开始决策...
2025-06-04 17:23:18,973 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:18,973 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -20.759535994224606}
2025-06-04 17:23:18,974 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -20.759535994224606, 43: -14.999087202442864}
2025-06-04 17:23:18,974 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:18,975 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:18,990 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:18,991 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9549) 开始决策...
2025-06-04 17:23:18,991 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:18,992 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:18,992 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:18,992 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 115.40866025330634}
2025-06-04 17:23:18,993 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:18,993 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:18,993 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 115.40866025330634
2025-06-04 17:23:18,994 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:19,011 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:19,012 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9704) 开始决策...
2025-06-04 17:23:19,012 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:19,012 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:19,013 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 50.44360360755157}
2025-06-04 17:23:19,013 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 50.44360360755157, 43: 0.0}
2025-06-04 17:23:19,014 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 50.44360360755157, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:19,015 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:19,016 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:19,032 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:19,033 - WSN_Simulation - INFO - --- 第 31 轮结束 ---
2025-06-04 17:23:19,033 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 32)...
2025-06-04 17:23:19,494 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0032.png
2025-06-04 17:23:19,495 - WSN_Simulation - INFO - --- 开始第 32 轮  ---
2025-06-04 17:23:19,496 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:19,496 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:21,169 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，11 个节点切换了CH。
2025-06-04 17:23:21,170 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:21,171 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9856) 开始决策...
2025-06-04 17:23:21,173 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:21,173 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 37.84669789138875}
2025-06-04 17:23:21,173 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:21,174 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:21,187 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:21,188 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9916) 开始决策...
2025-06-04 17:23:21,188 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:21,190 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 67.46029597320091}
2025-06-04 17:23:21,190 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 67.46029597320091, 3: 3.2471756348552008}
2025-06-04 17:23:21,190 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:21,191 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:21,207 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:21,207 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9901) 开始决策...
2025-06-04 17:23:21,208 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:21,208 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 14.655975974229637}
2025-06-04 17:23:21,209 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:21,210 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:21,227 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:21,228 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9906) 开始决策...
2025-06-04 17:23:21,228 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:21,230 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -14.146720477430645}
2025-06-04 17:23:21,230 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:21,231 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:21,248 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:21,249 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9849) 开始决策...
2025-06-04 17:23:21,250 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:21,250 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 48.16754183932732}
2025-06-04 17:23:21,252 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:21,253 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:21,273 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:21,273 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9580) 开始决策...
2025-06-04 17:23:21,274 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:21,274 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:21,275 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:21,275 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:21,276 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 120.33898373275}
2025-06-04 17:23:21,276 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:21,276 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:21,278 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 120.33898373275
2025-06-04 17:23:21,279 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:21,295 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:21,295 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9846) 开始决策...
2025-06-04 17:23:21,296 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:21,296 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:21,297 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 52.47960795717124}
2025-06-04 17:23:21,298 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 52.47960795717124, 12: 0.0}
2025-06-04 17:23:21,298 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 52.47960795717124, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:21,300 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 52.47960795717124, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:21,301 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 52.47960795717124, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:21,302 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 52.47960795717124, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:21,303 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 52.47960795717124, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:21,303 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:21,304 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:21,304 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 52.47960795717124
2025-06-04 17:23:21,306 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:21,321 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:21,322 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9886) 开始决策...
2025-06-04 17:23:21,324 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:21,324 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:21,324 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:21,325 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 36.42276613558995}
2025-06-04 17:23:21,325 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 36.42276613558995, 65: -10.0}
2025-06-04 17:23:21,325 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 36.42276613558995, 65: -10.0, 80: 0.0}
2025-06-04 17:23:21,326 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 36.42276613558995, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:21,326 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 36.42276613558995, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:21,328 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:21,328 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:21,329 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:21,329 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:21,345 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:21,345 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9814) 开始决策...
2025-06-04 17:23:21,346 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:21,346 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 40.33381302667009}
2025-06-04 17:23:21,347 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:21,348 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:21,361 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:21,362 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9593) 开始决策...
2025-06-04 17:23:21,364 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:21,364 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 73.43220030873869}
2025-06-04 17:23:21,365 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 73.43220030873869, 98: 0.0}
2025-06-04 17:23:21,367 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:21,369 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:21,386 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:21,387 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9614) 开始决策...
2025-06-04 17:23:21,389 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:21,390 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -20.759535994224606}
2025-06-04 17:23:21,391 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -20.759535994224606, 43: -24.849096330418433}
2025-06-04 17:23:21,391 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:21,391 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:21,408 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:21,408 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9512) 开始决策...
2025-06-04 17:23:21,409 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:21,409 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:21,409 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:21,410 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 121.58694669561788}
2025-06-04 17:23:21,410 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:21,410 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:21,410 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 121.58694669561788
2025-06-04 17:23:21,412 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:21,428 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:21,428 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9683) 开始决策...
2025-06-04 17:23:21,428 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:21,429 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:21,430 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751}
2025-06-04 17:23:21,431 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751, 43: 0.0}
2025-06-04 17:23:21,433 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751, 43: 0.0, 33: -2.131457362106669}
2025-06-04 17:23:21,434 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 33, 类型: <class 'int'>
2025-06-04 17:23:21,434 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 33
2025-06-04 17:23:21,462 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 33. END of try block.
2025-06-04 17:23:21,470 - WSN_Simulation - INFO - --- 第 32 轮结束 ---
2025-06-04 17:23:21,473 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 33)...
2025-06-04 17:23:22,101 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0033.png
2025-06-04 17:23:22,102 - WSN_Simulation - INFO - --- 开始第 33 轮  ---
2025-06-04 17:23:22,104 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:22,106 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:23,675 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，10 个节点切换了CH。
2025-06-04 17:23:23,676 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:23,676 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9845) 开始决策...
2025-06-04 17:23:23,677 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:23,677 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 40.86905405432928}
2025-06-04 17:23:23,679 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:23,679 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:23,695 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:23,696 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9910) 开始决策...
2025-06-04 17:23:23,696 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:23,698 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 73.14730160423105}
2025-06-04 17:23:23,698 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 73.14730160423105, 3: 3.2471756348552008}
2025-06-04 17:23:23,699 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 3, 类型: <class 'int'>
2025-06-04 17:23:23,699 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 3
2025-06-04 17:23:23,714 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 3. END of try block.
2025-06-04 17:23:23,715 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9894) 开始决策...
2025-06-04 17:23:23,716 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:23,716 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 4.5094162144873415}
2025-06-04 17:23:23,717 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:23,718 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:23,732 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:23,734 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9900) 开始决策...
2025-06-04 17:23:23,735 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:23,735 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -14.43343591935275}
2025-06-04 17:23:23,736 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:23,736 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:23,750 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:23,751 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9838) 开始决策...
2025-06-04 17:23:23,751 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:23,752 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 54.663293074829966}
2025-06-04 17:23:23,752 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:23,753 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:23,770 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:23,771 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9547) 开始决策...
2025-06-04 17:23:23,775 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:23,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:23,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:23,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:23,778 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 125.84236924159882}
2025-06-04 17:23:23,778 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:23,779 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:23,779 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 125.84236924159882
2025-06-04 17:23:23,779 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:23,793 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:23,793 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9838) 开始决策...
2025-06-04 17:23:23,794 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:23,794 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:23,795 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 62.49178323507181}
2025-06-04 17:23:23,795 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 62.49178323507181, 12: 0.0}
2025-06-04 17:23:23,796 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 62.49178323507181, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:23,796 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 62.49178323507181, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:23,797 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 62.49178323507181, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:23,798 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 62.49178323507181, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:23,798 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 62.49178323507181, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:23,799 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:23,801 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:23,801 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 62.49178323507181
2025-06-04 17:23:23,801 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:23,816 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:23,818 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9878) 开始决策...
2025-06-04 17:23:23,818 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:23,819 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:23,819 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:23,821 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 38.08846512294349}
2025-06-04 17:23:23,821 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 38.08846512294349, 65: -10.0}
2025-06-04 17:23:23,822 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 38.08846512294349, 65: -10.0, 80: 0.0}
2025-06-04 17:23:23,822 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 38.08846512294349, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:23,822 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 38.08846512294349, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:23,823 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:23,823 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:23,824 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:23,824 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:23,839 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:23,841 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9801) 开始决策...
2025-06-04 17:23:23,842 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:23,842 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 44.70441157369896}
2025-06-04 17:23:23,843 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:23,843 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:23,856 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:23,858 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9561) 开始决策...
2025-06-04 17:23:23,858 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:23,858 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 80.65003690733997}
2025-06-04 17:23:23,859 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 80.65003690733997, 98: 0.0}
2025-06-04 17:23:23,859 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:23,859 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:23,876 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:23,877 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9600) 开始决策...
2025-06-04 17:23:23,877 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:23,877 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236}
2025-06-04 17:23:23,878 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236, 43: -24.849096330418433}
2025-06-04 17:23:23,878 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:23,878 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:23,894 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:23,895 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9474) 开始决策...
2025-06-04 17:23:23,895 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:23,896 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:23,896 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:23,896 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 127.14740449369826}
2025-06-04 17:23:23,897 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:23,897 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:23,899 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 127.14740449369826
2025-06-04 17:23:23,899 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:23,915 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:23,916 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9610) 开始决策...
2025-06-04 17:23:23,916 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:23,918 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:23,918 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751}
2025-06-04 17:23:23,918 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751, 43: 0.0}
2025-06-04 17:23:23,918 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751, 43: 0.0, 33: 1.014781560584654}
2025-06-04 17:23:23,919 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:23,919 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:23,935 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:23,936 - WSN_Simulation - INFO - --- 第 33 轮结束 ---
2025-06-04 17:23:23,936 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 34)...
2025-06-04 17:23:24,438 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0034.png
2025-06-04 17:23:24,439 - WSN_Simulation - INFO - --- 开始第 34 轮  ---
2025-06-04 17:23:24,440 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:24,440 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:26,064 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，16 个节点切换了CH。
2025-06-04 17:23:26,065 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:26,066 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9833) 开始决策...
2025-06-04 17:23:26,067 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:26,070 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 43.79474528017154}
2025-06-04 17:23:26,070 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:26,072 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:26,087 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:26,088 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9892) 开始决策...
2025-06-04 17:23:26,088 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:26,090 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 73.14730160423105}
2025-06-04 17:23:26,090 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 73.14730160423105, 3: 8.808937732498862}
2025-06-04 17:23:26,090 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:26,091 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:26,107 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:26,107 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9887) 开始决策...
2025-06-04 17:23:26,108 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:26,108 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 6.7717604352407985}
2025-06-04 17:23:26,108 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:26,109 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:26,124 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:26,124 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9894) 开始决策...
2025-06-04 17:23:26,125 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:26,126 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -14.718687400063022}
2025-06-04 17:23:26,126 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:26,126 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:26,141 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:26,142 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9827) 开始决策...
2025-06-04 17:23:26,142 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:26,143 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 61.07353067316943}
2025-06-04 17:23:26,144 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:26,144 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:26,160 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:26,161 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9514) 开始决策...
2025-06-04 17:23:26,162 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:26,162 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:26,164 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:26,164 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:26,165 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 130.79541619956277}
2025-06-04 17:23:26,166 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:26,167 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:26,168 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 130.79541619956277
2025-06-04 17:23:26,170 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:26,186 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:26,186 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9830) 开始决策...
2025-06-04 17:23:26,188 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:26,188 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:26,189 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 71.50274098518231}
2025-06-04 17:23:26,189 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 71.50274098518231, 12: 0.0}
2025-06-04 17:23:26,190 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 71.50274098518231, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:26,190 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 71.50274098518231, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:26,192 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 71.50274098518231, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:26,192 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 71.50274098518231, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:26,192 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 71.50274098518231, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:26,193 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:26,193 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:26,194 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 71.50274098518231
2025-06-04 17:23:26,194 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:26,212 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:26,213 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9871) 开始决策...
2025-06-04 17:23:26,214 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:26,215 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:26,215 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:26,216 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 39.58759421156167}
2025-06-04 17:23:26,216 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 39.58759421156167, 65: -10.0}
2025-06-04 17:23:26,218 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 39.58759421156167, 65: -10.0, 80: 0.0}
2025-06-04 17:23:26,218 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 39.58759421156167, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:26,219 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 39.58759421156167, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:26,220 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:26,220 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:26,221 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:26,223 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:26,238 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:26,239 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9787) 开始决策...
2025-06-04 17:23:26,240 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:26,240 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 48.8574150562506}
2025-06-04 17:23:26,241 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:26,241 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:26,255 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:26,256 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9530) 开始决策...
2025-06-04 17:23:26,256 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:26,257 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 87.79309385622958}
2025-06-04 17:23:26,257 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 87.79309385622958, 98: 0.0}
2025-06-04 17:23:26,258 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:26,258 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:26,277 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:26,278 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9537) 开始决策...
2025-06-04 17:23:26,278 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:26,279 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236}
2025-06-04 17:23:26,279 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236, 43: -19.80620934618717}
2025-06-04 17:23:26,280 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:26,281 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:26,298 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:26,300 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9437) 开始决策...
2025-06-04 17:23:26,301 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:26,302 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:26,303 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:26,304 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 132.1518165119706}
2025-06-04 17:23:26,304 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:26,306 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:26,307 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 132.1518165119706
2025-06-04 17:23:26,307 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:26,322 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:26,323 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9577) 开始决策...
2025-06-04 17:23:26,323 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:26,324 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:26,324 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751}
2025-06-04 17:23:26,325 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751, 43: 8.727431657191477}
2025-06-04 17:23:26,325 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 56.45642135929751, 43: 8.727431657191477, 33: 1.014781560584654}
2025-06-04 17:23:26,326 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:26,326 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:26,341 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:26,342 - WSN_Simulation - INFO - --- 第 34 轮结束 ---
2025-06-04 17:23:26,343 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 35)...
2025-06-04 17:23:26,808 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0035.png
2025-06-04 17:23:26,809 - WSN_Simulation - INFO - --- 开始第 35 轮  ---
2025-06-04 17:23:26,810 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:26,810 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:28,373 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，15 个节点切换了CH。
2025-06-04 17:23:28,373 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:28,374 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9821) 开始决策...
2025-06-04 17:23:28,375 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:28,375 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 46.77303413091427}
2025-06-04 17:23:28,376 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:28,376 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:28,390 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:28,390 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9886) 开始决策...
2025-06-04 17:23:28,392 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:28,392 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 78.80371678401904}
2025-06-04 17:23:28,393 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 78.80371678401904, 3: 8.808937732498862}
2025-06-04 17:23:28,393 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:28,394 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:28,408 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:28,409 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9880) 开始决策...
2025-06-04 17:23:28,410 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:28,410 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 9.010198020579333}
2025-06-04 17:23:28,410 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:28,411 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:28,427 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:28,427 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9887) 开始决策...
2025-06-04 17:23:28,428 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:28,430 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -15.002489559173581}
2025-06-04 17:23:28,430 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:28,431 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:28,446 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:28,448 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9816) 开始决策...
2025-06-04 17:23:28,449 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:28,450 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 67.24905349972448}
2025-06-04 17:23:28,451 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:28,452 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:28,469 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:28,470 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9481) 开始决策...
2025-06-04 17:23:28,471 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:28,472 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:28,474 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:28,475 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:28,476 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 135.25315846173032}
2025-06-04 17:23:28,478 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:28,478 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:28,479 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 135.25315846173032
2025-06-04 17:23:28,480 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:28,495 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:28,496 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9822) 开始决策...
2025-06-04 17:23:28,497 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:28,499 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:28,501 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 79.61260296028178}
2025-06-04 17:23:28,501 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 79.61260296028178, 12: 0.0}
2025-06-04 17:23:28,502 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 79.61260296028178, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:28,502 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 79.61260296028178, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:28,503 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 79.61260296028178, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:28,503 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 79.61260296028178, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:28,505 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 79.61260296028178, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:28,506 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:28,508 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:28,509 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 79.61260296028178
2025-06-04 17:23:28,509 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:28,524 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:28,525 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9863) 开始决策...
2025-06-04 17:23:28,525 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:28,527 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:28,527 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:28,527 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 40.93681039131804}
2025-06-04 17:23:28,528 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 40.93681039131804, 65: -10.0}
2025-06-04 17:23:28,528 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 40.93681039131804, 65: -10.0, 80: 0.0}
2025-06-04 17:23:28,528 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 40.93681039131804, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:28,528 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 40.93681039131804, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:28,528 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:28,530 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:28,531 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:28,531 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:28,546 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:28,546 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9773) 开始决策...
2025-06-04 17:23:28,547 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:28,547 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 38.368840905688096}
2025-06-04 17:23:28,549 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:28,549 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:28,563 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:28,564 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9498) 开始决策...
2025-06-04 17:23:28,564 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:28,566 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 94.8138451813282}
2025-06-04 17:23:28,566 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 94.8138451813282, 98: 0.0}
2025-06-04 17:23:28,567 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:28,568 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:28,584 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:28,586 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9474) 开始决策...
2025-06-04 17:23:28,586 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:28,587 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236}
2025-06-04 17:23:28,587 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236, 43: -14.769439836713062}
2025-06-04 17:23:28,589 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:28,589 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:28,605 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:28,605 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9399) 开始决策...
2025-06-04 17:23:28,606 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:28,607 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:28,607 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:28,608 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 136.6557873284157}
2025-06-04 17:23:28,608 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:28,608 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:28,610 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 136.6557873284157
2025-06-04 17:23:28,610 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:28,625 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:28,627 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9556) 开始决策...
2025-06-04 17:23:28,627 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:28,628 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:28,628 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 62.40105524509107}
2025-06-04 17:23:28,628 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 62.40105524509107, 43: 8.727431657191477}
2025-06-04 17:23:28,629 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 62.40105524509107, 43: 8.727431657191477, 33: 1.014781560584654}
2025-06-04 17:23:28,629 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:28,630 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:28,645 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:28,646 - WSN_Simulation - INFO - --- 第 35 轮结束 ---
2025-06-04 17:23:28,648 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 36)...
2025-06-04 17:23:29,122 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0036.png
2025-06-04 17:23:29,122 - WSN_Simulation - INFO - --- 开始第 36 轮  ---
2025-06-04 17:23:29,123 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:29,124 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:30,746 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，16 个节点切换了CH。
2025-06-04 17:23:30,747 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:30,747 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9809) 开始决策...
2025-06-04 17:23:30,747 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:30,748 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 49.61065825727914}
2025-06-04 17:23:30,748 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:30,749 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:30,766 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:30,766 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9880) 开始决策...
2025-06-04 17:23:30,768 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:30,768 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 84.34430083712115}
2025-06-04 17:23:30,769 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 84.34430083712115, 3: 8.808937732498862}
2025-06-04 17:23:30,771 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:30,771 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:30,786 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:30,787 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9873) 开始决策...
2025-06-04 17:23:30,788 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:30,788 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 11.210620679783755}
2025-06-04 17:23:30,789 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:30,789 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:30,805 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:30,806 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9880) 开始决策...
2025-06-04 17:23:30,806 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:30,807 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -15.284896889900423}
2025-06-04 17:23:30,807 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:30,808 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:30,826 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:30,827 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9805) 开始决策...
2025-06-04 17:23:30,827 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:30,828 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 73.54153721570073}
2025-06-04 17:23:30,828 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:30,829 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:30,851 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:30,853 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9448) 开始决策...
2025-06-04 17:23:30,854 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:30,855 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:30,855 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:30,856 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:30,856 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 139.2651264976811}
2025-06-04 17:23:30,857 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:30,857 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:30,858 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 139.2651264976811
2025-06-04 17:23:30,858 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:30,876 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:30,878 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9814) 开始决策...
2025-06-04 17:23:30,879 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:30,879 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:30,880 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129}
2025-06-04 17:23:30,880 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0}
2025-06-04 17:23:30,881 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:30,881 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198}
2025-06-04 17:23:30,882 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425}
2025-06-04 17:23:30,883 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:30,884 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434, 65: 13.305062738289198, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:30,884 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:23:30,884 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:23:30,885 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 86.91147873787129
2025-06-04 17:23:30,885 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:30,903 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:23:30,904 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9855) 开始决策...
2025-06-04 17:23:30,904 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:30,904 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:30,905 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0}
2025-06-04 17:23:30,905 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 42.151104953098766}
2025-06-04 17:23:30,905 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 42.151104953098766, 65: -10.0}
2025-06-04 17:23:30,907 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 42.151104953098766, 65: -10.0, 80: 0.0}
2025-06-04 17:23:30,907 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 42.151104953098766, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:30,907 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 0.0, 12: 42.151104953098766, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:30,908 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:30,908 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:30,908 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:30,909 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: *** 选择了BS (-1) ***
2025-06-04 17:23:30,928 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:30,930 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9760) 开始决策...
2025-06-04 17:23:30,931 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:30,931 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 42.681116215448505}
2025-06-04 17:23:30,932 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:30,932 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:30,951 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:30,952 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9466) 开始决策...
2025-06-04 17:23:30,954 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:30,955 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 101.8344733533304}
2025-06-04 17:23:30,955 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 101.8344733533304, 98: 0.0}
2025-06-04 17:23:30,956 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 98, 类型: <class 'int'>
2025-06-04 17:23:30,957 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 98
2025-06-04 17:23:30,973 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 98. END of try block.
2025-06-04 17:23:30,974 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9410) 开始决策...
2025-06-04 17:23:30,974 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:30,975 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236}
2025-06-04 17:23:30,975 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236, 43: -9.842172157728882}
2025-06-04 17:23:30,976 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:30,976 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:30,994 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:30,994 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9362) 开始决策...
2025-06-04 17:23:30,995 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:30,995 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:30,996 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:30,996 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 140.7093610632163}
2025-06-04 17:23:30,997 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:30,998 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:30,998 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 140.7093610632163
2025-06-04 17:23:31,000 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:31,015 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:31,016 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9536) 开始决策...
2025-06-04 17:23:31,016 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:31,018 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:31,019 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 68.27400063428391}
2025-06-04 17:23:31,019 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 68.27400063428391, 43: 8.727431657191477}
2025-06-04 17:23:31,021 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 68.27400063428391, 43: 8.727431657191477, 33: 1.014781560584654}
2025-06-04 17:23:31,022 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:31,023 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:31,038 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:31,040 - WSN_Simulation - INFO - --- 第 36 轮结束 ---
2025-06-04 17:23:31,041 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 37)...
2025-06-04 17:23:31,608 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0037.png
2025-06-04 17:23:31,609 - WSN_Simulation - INFO - --- 开始第 37 轮  ---
2025-06-04 17:23:31,609 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:31,610 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:33,161 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，18 个节点切换了CH。
2025-06-04 17:23:33,162 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:33,162 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9798) 开始决策...
2025-06-04 17:23:33,164 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:33,165 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 52.405300844390624}
2025-06-04 17:23:33,165 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:33,166 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:33,181 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:33,182 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9875) 开始决策...
2025-06-04 17:23:33,182 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:33,183 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 89.81843906775795}
2025-06-04 17:23:33,183 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 89.81843906775795, 3: 8.808937732498862}
2025-06-04 17:23:33,183 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:33,184 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:33,197 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:33,199 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9866) 开始决策...
2025-06-04 17:23:33,201 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:33,201 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 13.372441757258617}
2025-06-04 17:23:33,201 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:33,202 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:33,219 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:33,219 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9874) 开始决策...
2025-06-04 17:23:33,220 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:33,222 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -15.565803340527387}
2025-06-04 17:23:33,223 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:33,223 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:33,239 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:33,240 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9794) 开始决策...
2025-06-04 17:23:33,241 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:33,242 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 79.76522166794727}
2025-06-04 17:23:33,242 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:33,243 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:33,260 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:33,260 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9414) 开始决策...
2025-06-04 17:23:33,261 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:33,261 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:33,263 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:33,263 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:33,264 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 142.87589773003683}
2025-06-04 17:23:33,265 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:33,265 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:33,266 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 142.87589773003683
2025-06-04 17:23:33,266 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:33,281 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:33,281 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9810) 开始决策...
2025-06-04 17:23:33,283 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:33,286 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:33,287 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129}
2025-06-04 17:23:33,288 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0}
2025-06-04 17:23:33,289 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:33,290 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746}
2025-06-04 17:23:33,290 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425}
2025-06-04 17:23:33,291 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:33,291 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 86.91147873787129, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:33,292 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:33,292 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:33,292 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 86.91147873787129
2025-06-04 17:23:33,293 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:33,308 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:33,308 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9846) 开始决策...
2025-06-04 17:23:33,309 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:33,309 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:33,310 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278}
2025-06-04 17:23:33,310 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766}
2025-06-04 17:23:33,310 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766, 65: -10.0}
2025-06-04 17:23:33,312 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766, 65: -10.0, 80: 0.0}
2025-06-04 17:23:33,312 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766, 65: -10.0, 80: 0.0, 99: 0.0}
2025-06-04 17:23:33,313 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766, 65: -10.0, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:33,314 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:23:33,314 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:23:33,315 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.18138557073278
2025-06-04 17:23:33,315 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:33,333 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:23:33,334 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9746) 开始决策...
2025-06-04 17:23:33,336 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:33,337 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 32.25430505329402}
2025-06-04 17:23:33,338 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:33,339 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:33,355 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:33,356 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9424) 开始决策...
2025-06-04 17:23:33,356 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:33,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 101.8344733533304}
2025-06-04 17:23:33,358 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 101.8344733533304, 98: -0.8348973982002648}
2025-06-04 17:23:33,359 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:33,359 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:33,376 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:33,377 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9347) 开始决策...
2025-06-04 17:23:33,377 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:33,378 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236}
2025-06-04 17:23:33,378 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236, 43: -4.975217137468837}
2025-06-04 17:23:33,378 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:33,379 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:33,396 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:33,399 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9325) 开始决策...
2025-06-04 17:23:33,400 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:33,401 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:33,402 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:33,402 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 144.35757742453686}
2025-06-04 17:23:33,403 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:33,404 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:33,406 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 144.35757742453686
2025-06-04 17:23:33,406 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:33,422 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:33,423 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9515) 开始决策...
2025-06-04 17:23:33,423 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:33,424 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:33,424 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 74.08565838070518}
2025-06-04 17:23:33,425 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 74.08565838070518, 43: 8.727431657191477}
2025-06-04 17:23:33,425 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 74.08565838070518, 43: 8.727431657191477, 33: 1.014781560584654}
2025-06-04 17:23:33,426 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:33,426 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:33,442 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:33,443 - WSN_Simulation - INFO - --- 第 37 轮结束 ---
2025-06-04 17:23:33,443 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 38)...
2025-06-04 17:23:34,096 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0038.png
2025-06-04 17:23:34,098 - WSN_Simulation - INFO - --- 开始第 38 轮  ---
2025-06-04 17:23:34,098 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:34,099 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:35,644 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，14 个节点切换了CH。
2025-06-04 17:23:35,644 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:35,646 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9786) 开始决策...
2025-06-04 17:23:35,646 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:35,647 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 55.27728812752841}
2025-06-04 17:23:35,647 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:35,648 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:35,672 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:35,672 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9869) 开始决策...
2025-06-04 17:23:35,672 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:35,673 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 95.22679593415408}
2025-06-04 17:23:35,673 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 95.22679593415408, 3: 8.808937732498862}
2025-06-04 17:23:35,673 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:35,675 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:35,692 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:35,692 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9859) 开始决策...
2025-06-04 17:23:35,693 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:35,693 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 15.540902949754805}
2025-06-04 17:23:35,693 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:35,694 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:35,710 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:35,710 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9867) 开始决策...
2025-06-04 17:23:35,711 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:35,711 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -15.84530391985547}
2025-06-04 17:23:35,712 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:35,712 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:35,730 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:35,731 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9782) 开始决策...
2025-06-04 17:23:35,731 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:35,733 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 85.92085159495716}
2025-06-04 17:23:35,733 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:35,733 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:35,749 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:35,750 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9381) 开始决策...
2025-06-04 17:23:35,751 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:35,752 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:35,752 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:35,752 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:35,753 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 146.12559183915698}
2025-06-04 17:23:35,754 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:35,754 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:35,754 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 146.12559183915698
2025-06-04 17:23:35,755 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:35,774 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:35,775 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9802) 开始决策...
2025-06-04 17:23:35,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:35,776 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:35,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 93.48046693770185}
2025-06-04 17:23:35,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 93.48046693770185, 12: 0.0}
2025-06-04 17:23:35,777 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 93.48046693770185, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:35,778 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 93.48046693770185, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746}
2025-06-04 17:23:35,778 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 93.48046693770185, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425}
2025-06-04 17:23:35,779 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 93.48046693770185, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:35,779 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 93.48046693770185, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:35,779 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:35,780 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:35,780 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 93.48046693770185
2025-06-04 17:23:35,780 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:35,796 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:35,797 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9844) 开始决策...
2025-06-04 17:23:35,797 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:35,798 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:35,798 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278}
2025-06-04 17:23:35,800 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766}
2025-06-04 17:23:35,801 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766, 65: -5.803295367483226}
2025-06-04 17:23:35,801 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766, 65: -5.803295367483226, 80: 0.0}
2025-06-04 17:23:35,802 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766, 65: -5.803295367483226, 80: 0.0, 99: 0.0}
2025-06-04 17:23:35,803 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 42.151104953098766, 65: -5.803295367483226, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:35,804 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:35,805 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:35,805 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.18138557073278
2025-06-04 17:23:35,807 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:35,823 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:35,824 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9733) 开始决策...
2025-06-04 17:23:35,824 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:35,824 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 36.602769667472174}
2025-06-04 17:23:35,825 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:35,825 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:35,842 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:35,843 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9392) 开始决策...
2025-06-04 17:23:35,843 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:35,843 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 108.75613301229575}
2025-06-04 17:23:35,844 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 108.75613301229575, 98: -0.8348973982002648}
2025-06-04 17:23:35,844 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:35,845 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:35,860 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:35,860 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9283) 开始决策...
2025-06-04 17:23:35,862 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:35,863 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236}
2025-06-04 17:23:35,863 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236, 43: -0.16797164934568531}
2025-06-04 17:23:35,864 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:35,865 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:35,880 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:35,882 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9288) 开始决策...
2025-06-04 17:23:35,882 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:35,884 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:35,885 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:35,886 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 147.64097214972534}
2025-06-04 17:23:35,887 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:35,887 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:35,888 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 147.64097214972534
2025-06-04 17:23:35,888 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: *** 选择了BS (-1) ***
2025-06-04 17:23:35,903 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:35,904 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9494) 开始决策...
2025-06-04 17:23:35,905 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:35,905 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:35,906 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 79.8421607393264}
2025-06-04 17:23:35,906 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 79.8421607393264, 43: 8.727431657191477}
2025-06-04 17:23:35,907 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 79.8421607393264, 43: 8.727431657191477, 33: 1.014781560584654}
2025-06-04 17:23:35,907 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:35,907 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:35,923 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:35,924 - WSN_Simulation - INFO - --- 第 38 轮结束 ---
2025-06-04 17:23:35,925 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 39)...
2025-06-04 17:23:36,526 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0039.png
2025-06-04 17:23:36,528 - WSN_Simulation - INFO - --- 开始第 39 轮  ---
2025-06-04 17:23:36,528 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:36,528 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:38,006 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，12 个节点切换了CH。
2025-06-04 17:23:38,006 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:38,006 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 (Energy: 0.9775) 开始决策...
2025-06-04 17:23:38,008 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 评估有效候选 (Path: [3]):
2025-06-04 17:23:38,008 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 3 最终有效候选及Q值: {90: 57.61143235206767}
2025-06-04 17:23:38,009 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:38,010 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 3: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:38,026 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 3: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:38,026 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 (Energy: 0.9863) 开始决策...
2025-06-04 17:23:38,026 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 评估有效候选 (Path: [33]):
2025-06-04 17:23:38,028 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 100.60346452784795}
2025-06-04 17:23:38,028 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 33 最终有效候选及Q值: {43: 100.60346452784795, 3: 8.808937732498862}
2025-06-04 17:23:38,029 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:38,029 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 33: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:38,044 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 33: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:38,045 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 (Energy: 0.9852) 开始决策...
2025-06-04 17:23:38,046 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 评估有效候选 (Path: [73]):
2025-06-04 17:23:38,047 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 73 最终有效候选及Q值: {99: 17.672088980045306}
2025-06-04 17:23:38,047 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 99, 类型: <class 'int'>
2025-06-04 17:23:38,047 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 73: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 99
2025-06-04 17:23:38,064 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 73: Successfully processed choice for NH 99. END of try block.
2025-06-04 17:23:38,065 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 (Energy: 0.9861) 开始决策...
2025-06-04 17:23:38,066 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 评估有效候选 (Path: [99]):
2025-06-04 17:23:38,068 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 99 最终有效候选及Q值: {73: -16.12341268659766}
2025-06-04 17:23:38,068 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 73, 类型: <class 'int'>
2025-06-04 17:23:38,068 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 99: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 73
2025-06-04 17:23:38,084 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 99: Successfully processed choice for NH 73. END of try block.
2025-06-04 17:23:38,086 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 (Energy: 0.9771) 开始决策...
2025-06-04 17:23:38,087 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 评估有效候选 (Path: [54]):
2025-06-04 17:23:38,088 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 54 最终有效候选及Q值: {83: 91.98554654399396}
2025-06-04 17:23:38,088 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 83, 类型: <class 'int'>
2025-06-04 17:23:38,089 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 54: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 83
2025-06-04 17:23:38,105 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 54: Successfully processed choice for NH 83. END of try block.
2025-06-04 17:23:38,106 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 (Energy: 0.9348) 开始决策...
2025-06-04 17:23:38,107 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 评估有效候选 (Path: [43]):
2025-06-04 17:23:38,108 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0}
2025-06-04 17:23:38,109 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0}
2025-06-04 17:23:38,109 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808}
2025-06-04 17:23:38,110 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 43 最终有效候选及Q值: {33: 0.0, 13: 0.0, 3: 4.476002242861808, -1: 149.05031653736512}
2025-06-04 17:23:38,110 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:38,110 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 43: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:38,111 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 149.05031653736512
2025-06-04 17:23:38,112 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 43: *** 选择了BS (-1) ***
2025-06-04 17:23:38,126 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 43: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:38,126 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 (Energy: 0.9794) 开始决策...
2025-06-04 17:23:38,128 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 评估有效候选 (Path: [6]):
2025-06-04 17:23:38,128 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0}
2025-06-04 17:23:38,128 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 99.39255631754935}
2025-06-04 17:23:38,130 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 99.39255631754935, 12: 0.0}
2025-06-04 17:23:38,131 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 99.39255631754935, 12: 0.0, 59: 2.830120005193434}
2025-06-04 17:23:38,131 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 99.39255631754935, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746}
2025-06-04 17:23:38,132 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 99.39255631754935, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425}
2025-06-04 17:23:38,132 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 99.39255631754935, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425, 73: 0.0}
2025-06-04 17:23:38,133 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 6 最终有效候选及Q值: {30: 0.0, -1: 99.39255631754935, 12: 0.0, 59: 2.830120005193434, 65: 15.223576693096746, 80: 4.824551292027425, 73: 0.0, 99: -6.47396771021611}
2025-06-04 17:23:38,134 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:38,135 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 6: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:38,135 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 99.39255631754935
2025-06-04 17:23:38,135 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 6: *** 选择了BS (-1) ***
2025-06-04 17:23:38,153 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 6: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:38,154 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 (Energy: 0.9836) 开始决策...
2025-06-04 17:23:38,155 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 评估有效候选 (Path: [30]):
2025-06-04 17:23:38,155 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0}
2025-06-04 17:23:38,156 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278}
2025-06-04 17:23:38,156 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 43.24397005870142}
2025-06-04 17:23:38,156 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 43.24397005870142, 65: -5.803295367483226}
2025-06-04 17:23:38,157 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 43.24397005870142, 65: -5.803295367483226, 80: 0.0}
2025-06-04 17:23:38,157 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 43.24397005870142, 65: -5.803295367483226, 80: 0.0, 99: 0.0}
2025-06-04 17:23:38,157 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 30 最终有效候选及Q值: {6: 0.0, -1: 15.18138557073278, 12: 43.24397005870142, 65: -5.803295367483226, 80: 0.0, 99: 0.0, 43: 0.0}
2025-06-04 17:23:38,158 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:38,158 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 30: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:38,160 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 15.18138557073278
2025-06-04 17:23:38,160 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 30: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:38,176 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 30: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:38,176 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 (Energy: 0.9720) 开始决策...
2025-06-04 17:23:38,177 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 评估有效候选 (Path: [98]):
2025-06-04 17:23:38,177 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 98 最终有效候选及Q值: {55: 26.236741970797453}
2025-06-04 17:23:38,177 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 55, 类型: <class 'int'>
2025-06-04 17:23:38,177 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 98: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 55
2025-06-04 17:23:38,193 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 98: Successfully processed choice for NH 55. END of try block.
2025-06-04 17:23:38,194 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 (Energy: 0.9360) 开始决策...
2025-06-04 17:23:38,195 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 评估有效候选 (Path: [0]):
2025-06-04 17:23:38,195 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 115.6059074523954}
2025-06-04 17:23:38,196 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 0 最终有效候选及Q值: {6: 115.6059074523954, 98: -0.8348973982002648}
2025-06-04 17:23:38,196 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 6, 类型: <class 'int'>
2025-06-04 17:23:38,197 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 0: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 6
2025-06-04 17:23:38,212 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 0: Successfully processed choice for NH 6. END of try block.
2025-06-04 17:23:38,213 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 (Energy: 0.9220) 开始决策...
2025-06-04 17:23:38,214 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 评估有效候选 (Path: [90]):
2025-06-04 17:23:38,214 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236}
2025-06-04 17:23:38,215 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 90 最终有效候选及Q值: {3: -30.55194063428236, 43: 4.6134638403651085}
2025-06-04 17:23:38,215 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 43, 类型: <class 'int'>
2025-06-04 17:23:38,216 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 90: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 43
2025-06-04 17:23:38,230 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 90: Successfully processed choice for NH 43. END of try block.
2025-06-04 17:23:38,230 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 (Energy: 0.9250) 开始决策...
2025-06-04 17:23:38,231 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 评估有效候选 (Path: [55]):
2025-06-04 17:23:38,231 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0}
2025-06-04 17:23:38,233 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275}
2025-06-04 17:23:38,234 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 55 最终有效候选及Q值: {98: 0.0, 90: 7.333442995443275, -1: 150.59602740239498}
2025-06-04 17:23:38,234 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 90, 类型: <class 'int'>
2025-06-04 17:23:38,235 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 55: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 90
2025-06-04 17:23:38,235 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 150.59602740239498
2025-06-04 17:23:38,237 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 55: BS (-1) 是有效候选但未被选择。最终选择: 90 (Type: CH)
2025-06-04 17:23:38,252 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 55: Successfully processed choice for NH 90. END of try block.
2025-06-04 17:23:38,253 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 (Energy: 0.9474) 开始决策...
2025-06-04 17:23:38,255 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 评估有效候选 (Path: [83]):
2025-06-04 17:23:38,256 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608}
2025-06-04 17:23:38,256 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 85.52693190571169}
2025-06-04 17:23:38,256 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 85.52693190571169, 43: 8.727431657191477}
2025-06-04 17:23:38,257 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 83 最终有效候选及Q值: {54: -6.388517458276608, 30: 85.52693190571169, 43: 8.727431657191477, 33: 1.014781560584654}
2025-06-04 17:23:38,257 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 30, 类型: <class 'int'>
2025-06-04 17:23:38,259 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 83: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 30
2025-06-04 17:23:38,274 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 83: Successfully processed choice for NH 30. END of try block.
2025-06-04 17:23:38,274 - WSN_Simulation - INFO - Epoch 1 结束: 孤立普通节点数 = 1, CH数 = 13
2025-06-04 17:23:38,275 - WSN_Simulation - INFO - 由于候选CH不足或Q学习后孤立节点多，下一轮 p_opt 调整为: 0.179
2025-06-04 17:23:38,275 - WSN_Simulation - INFO - --- 第 39 轮结束 ---
2025-06-04 17:23:38,275 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 40)...
2025-06-04 17:23:38,854 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0040.png
2025-06-04 17:23:38,856 - WSN_Simulation - INFO - --- 开始第 40 轮  ---
2025-06-04 17:23:38,856 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:38,858 - WSN_Simulation - INFO - --- ***** 新 Epoch 开始 (轮次 40) ***** ---
2025-06-04 17:23:38,858 - WSN_Simulation - INFO - Epoch 1 结束: 更新CH竞争Q表...
2025-06-04 17:23:40,367 - WSN_Simulation - INFO - Epoch开始，CH竞争Epsilon更新为: 0.4442
2025-06-04 17:23:40,368 - WSN_Simulation - INFO - Epoch开始：节点通过Q学习竞争成为CH...
2025-06-04 17:23:40,374 - WSN_Simulation - INFO - Epoch CH竞争：70 个节点宣告想成为CH: [0, 1, 2, 3, 4, 6, 7, 9, 10, 11, 14, 15, 16, 17, 18, 19, 21, 22, 24, 26, 27, 28, 29, 30, 32, 33, 34, 38, 39, 40, 42, 43, 44, 46, 47, 48, 49, 50, 52, 54, 56, 57, 58, 60, 61, 62, 63, 64, 66, 69, 70, 71, 73, 74, 75, 76, 77, 78, 79, 83, 84, 87, 88, 89, 93, 94, 95, 97, 98, 99]
2025-06-04 17:23:40,375 - WSN_Simulation - INFO - CH最终确定阶段：从 70 个宣告者中确定本Epoch的CH...
2025-06-04 17:23:40,375 - WSN_Simulation - WARNING - 距离筛选后CH (11) 过少，尝试从能量筛选结果补充。
2025-06-04 17:23:40,377 - WSN_Simulation - INFO - 最终确认本Epoch活跃CH (10个): [97, 34, 64, 29, 89, 4, 60, 78, 27, 95]
2025-06-04 17:23:40,378 - WSN_Simulation - INFO - Epoch开始：更新CH竞争Q表 (基于宣告和最终确认)...
2025-06-04 17:23:43,535 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:44,999 - WSN_Simulation - INFO - Q学习选择CH阶段：75 个节点初次分配，0 个节点切换了CH。
2025-06-04 17:23:44,999 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:45,000 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 (Energy: 0.9982) 开始决策...
2025-06-04 17:23:45,000 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 评估有效候选 (Path: [97]):
2025-06-04 17:23:45,001 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 最终有效候选及Q值: {95: 0.0}
2025-06-04 17:23:45,001 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 97: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 95, 类型: <class 'int'>
2025-06-04 17:23:45,002 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 97: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 95
2025-06-04 17:23:45,016 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 97: Successfully processed choice for NH 95. END of try block.
2025-06-04 17:23:45,017 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 34 (Energy: 0.9960) 开始决策...
2025-06-04 17:23:45,018 - WSN_Simulation - WARNING - CH 34 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:23:45,018 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 64 (Energy: 0.9956) 开始决策...
2025-06-04 17:23:45,019 - WSN_Simulation - WARNING - CH 64 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:23:45,019 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9950) 开始决策...
2025-06-04 17:23:45,020 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 评估有效候选 (Path: [29]):
2025-06-04 17:23:45,021 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 最终有效候选及Q值: {95: 0.0}
2025-06-04 17:23:45,023 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 最终有效候选及Q值: {95: 0.0, 97: 0.0}
2025-06-04 17:23:45,023 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 29: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 95, 类型: <class 'int'>
2025-06-04 17:23:45,024 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 29: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 95
2025-06-04 17:23:45,039 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 29: Successfully processed choice for NH 95. END of try block.
2025-06-04 17:23:45,040 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 (Energy: 0.9938) 开始决策...
2025-06-04 17:23:45,040 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 评估有效候选 (Path: [89]):
2025-06-04 17:23:45,041 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 最终有效候选及Q值: {34: 0.0}
2025-06-04 17:23:45,041 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 最终有效候选及Q值: {34: 0.0, -1: 0.0}
2025-06-04 17:23:45,041 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 89: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 34, 类型: <class 'int'>
2025-06-04 17:23:45,042 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 89: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 34
2025-06-04 17:23:45,042 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 89: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:45,043 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 89: BS (-1) 是有效候选但未被选择。最终选择: 34 (Type: CH)
2025-06-04 17:23:45,060 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 89: Successfully processed choice for NH 34. END of try block.
2025-06-04 17:23:45,060 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 (Energy: 0.9928) 开始决策...
2025-06-04 17:23:45,061 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 评估有效候选 (Path: [4]):
2025-06-04 17:23:45,062 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0}
2025-06-04 17:23:45,062 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0}
2025-06-04 17:23:45,063 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 0.0}
2025-06-04 17:23:45,064 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 0.0, 80: 0.0}
2025-06-04 17:23:45,065 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 0.0, 80: 0.0, 64: 0.0}
2025-06-04 17:23:45,066 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 0.0, 80: 0.0, 64: 0.0, -1: 0.0}
2025-06-04 17:23:45,066 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 4: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 65, 类型: <class 'int'>
2025-06-04 17:23:45,066 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 4: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 65
2025-06-04 17:23:45,068 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 4: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:45,068 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 4: BS (-1) 是有效候选但未被选择。最终选择: 65 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:45,082 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 4: Successfully processed choice for NH 65. END of try block.
2025-06-04 17:23:45,084 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 (Energy: 0.9927) 开始决策...
2025-06-04 17:23:45,085 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 评估有效候选 (Path: [60]):
2025-06-04 17:23:45,085 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 最终有效候选及Q值: {29: 0.0}
2025-06-04 17:23:45,086 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 60: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 29, 类型: <class 'int'>
2025-06-04 17:23:45,086 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 60: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 29
2025-06-04 17:23:45,105 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 60: Successfully processed choice for NH 29. END of try block.
2025-06-04 17:23:45,105 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 (Energy: 0.9920) 开始决策...
2025-06-04 17:23:45,106 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 评估有效候选 (Path: [78]):
2025-06-04 17:23:45,107 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0}
2025-06-04 17:23:45,107 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0}
2025-06-04 17:23:45,108 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0, 13: 0.0}
2025-06-04 17:23:45,108 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0, 13: 0.0, -1: 0.0}
2025-06-04 17:23:45,109 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0, 13: 0.0, -1: 0.0, 97: 0.0}
2025-06-04 17:23:45,109 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0, 13: 0.0, -1: 0.0, 97: 0.0, 64: 0.0}
2025-06-04 17:23:45,110 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 78: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 97, 类型: <class 'int'>
2025-06-04 17:23:45,110 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 78: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 97
2025-06-04 17:23:45,120 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 78: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:45,121 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 78: BS (-1) 是有效候选但未被选择。最终选择: 97 (Type: CH)
2025-06-04 17:23:45,136 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 78: Successfully processed choice for NH 97. END of try block.
2025-06-04 17:23:45,136 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 (Energy: 0.9887) 开始决策...
2025-06-04 17:23:45,137 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 评估有效候选 (Path: [27]):
2025-06-04 17:23:45,137 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 最终有效候选及Q值: {60: 0.0}
2025-06-04 17:23:45,138 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 27: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 60, 类型: <class 'int'>
2025-06-04 17:23:45,138 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 27: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 60
2025-06-04 17:23:45,153 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 27: Successfully processed choice for NH 60. END of try block.
2025-06-04 17:23:45,154 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 (Energy: 0.9878) 开始决策...
2025-06-04 17:23:45,155 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 评估有效候选 (Path: [95]):
2025-06-04 17:23:45,156 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0}
2025-06-04 17:23:45,156 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0}
2025-06-04 17:23:45,157 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0, 60: 0.0}
2025-06-04 17:23:45,158 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0, 60: 0.0, 78: 0.0}
2025-06-04 17:23:45,159 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 95: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 60, 类型: <class 'int'>
2025-06-04 17:23:45,159 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 95: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 60
2025-06-04 17:23:45,179 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 95: Successfully processed choice for NH 60. END of try block.
2025-06-04 17:23:45,180 - WSN_Simulation - INFO - --- 第 40 轮结束 ---
2025-06-04 17:23:45,180 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 41)...
2025-06-04 17:23:45,744 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0041.png
2025-06-04 17:23:45,744 - WSN_Simulation - INFO - --- 开始第 41 轮  ---
2025-06-04 17:23:45,745 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:45,745 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:47,359 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，6 个节点切换了CH。
2025-06-04 17:23:47,360 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:47,360 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 (Energy: 0.9976) 开始决策...
2025-06-04 17:23:47,360 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 评估有效候选 (Path: [97]):
2025-06-04 17:23:47,361 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 最终有效候选及Q值: {95: 3.591385117304124}
2025-06-04 17:23:47,361 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 97: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 95, 类型: <class 'int'>
2025-06-04 17:23:47,361 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 97: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 95
2025-06-04 17:23:47,378 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 97: Successfully processed choice for NH 95. END of try block.
2025-06-04 17:23:47,379 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 34 (Energy: 0.9957) 开始决策...
2025-06-04 17:23:47,380 - WSN_Simulation - WARNING - CH 34 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:23:47,380 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 64 (Energy: 0.9955) 开始决策...
2025-06-04 17:23:47,380 - WSN_Simulation - WARNING - CH 64 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:23:47,380 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9943) 开始决策...
2025-06-04 17:23:47,381 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 评估有效候选 (Path: [29]):
2025-06-04 17:23:47,382 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 最终有效候选及Q值: {95: 3.2340944114106787}
2025-06-04 17:23:47,382 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 最终有效候选及Q值: {95: 3.2340944114106787, 97: 0.0}
2025-06-04 17:23:47,384 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 29: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 97, 类型: <class 'int'>
2025-06-04 17:23:47,385 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 29: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 97
2025-06-04 17:23:47,399 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 29: Successfully processed choice for NH 97. END of try block.
2025-06-04 17:23:47,400 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 (Energy: 0.9882) 开始决策...
2025-06-04 17:23:47,401 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 评估有效候选 (Path: [89]):
2025-06-04 17:23:47,402 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 最终有效候选及Q值: {34: -3.145601072112106}
2025-06-04 17:23:47,402 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 最终有效候选及Q值: {34: -3.145601072112106, -1: 0.0}
2025-06-04 17:23:47,403 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 89: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:47,403 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 89: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:47,403 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 89: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:47,404 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 89: *** 选择了BS (-1) ***
2025-06-04 17:23:47,420 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 89: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:47,421 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 (Energy: 0.9922) 开始决策...
2025-06-04 17:23:47,421 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 评估有效候选 (Path: [4]):
2025-06-04 17:23:47,422 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0}
2025-06-04 17:23:47,422 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0}
2025-06-04 17:23:47,423 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 4.4453252383748}
2025-06-04 17:23:47,423 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 4.4453252383748, 80: 0.0}
2025-06-04 17:23:47,424 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 4.4453252383748, 80: 0.0, 64: 0.0}
2025-06-04 17:23:47,424 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 4.4453252383748, 80: 0.0, 64: 0.0, -1: 0.0}
2025-06-04 17:23:47,425 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 4: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:47,425 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 4: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:47,426 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 4: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:47,426 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 4: *** 选择了BS (-1) ***
2025-06-04 17:23:47,441 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 4: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:47,442 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 (Energy: 0.9907) 开始决策...
2025-06-04 17:23:47,442 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 评估有效候选 (Path: [60]):
2025-06-04 17:23:47,443 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 最终有效候选及Q值: {29: -1.3524075681826253}
2025-06-04 17:23:47,443 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 60: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 29, 类型: <class 'int'>
2025-06-04 17:23:47,444 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 60: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 29
2025-06-04 17:23:47,462 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 60: Successfully processed choice for NH 29. END of try block.
2025-06-04 17:23:47,463 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 (Energy: 0.9866) 开始决策...
2025-06-04 17:23:47,463 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 评估有效候选 (Path: [78]):
2025-06-04 17:23:47,464 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0}
2025-06-04 17:23:47,464 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0}
2025-06-04 17:23:47,465 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0, 13: 0.0}
2025-06-04 17:23:47,465 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0, 13: 0.0, -1: 0.0}
2025-06-04 17:23:47,466 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0, 13: 0.0, -1: 0.0, 97: -5.997707193930289}
2025-06-04 17:23:47,466 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 0.0, 12: 0.0, 13: 0.0, -1: 0.0, 97: -5.997707193930289, 64: 0.0}
2025-06-04 17:23:47,468 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 78: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 4, 类型: <class 'int'>
2025-06-04 17:23:47,470 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 78: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 4
2025-06-04 17:23:47,471 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 78: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:47,471 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 78: BS (-1) 是有效候选但未被选择。最终选择: 4 (Type: CH)
2025-06-04 17:23:47,488 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 78: Successfully processed choice for NH 4. END of try block.
2025-06-04 17:23:47,488 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 (Energy: 0.9866) 开始决策...
2025-06-04 17:23:47,489 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 评估有效候选 (Path: [27]):
2025-06-04 17:23:47,490 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 最终有效候选及Q值: {60: 4.428260050962655}
2025-06-04 17:23:47,490 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 27: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 60, 类型: <class 'int'>
2025-06-04 17:23:47,490 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 27: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 60
2025-06-04 17:23:47,507 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 27: Successfully processed choice for NH 60. END of try block.
2025-06-04 17:23:47,507 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 (Energy: 0.9799) 开始决策...
2025-06-04 17:23:47,508 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 评估有效候选 (Path: [95]):
2025-06-04 17:23:47,508 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0}
2025-06-04 17:23:47,509 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0}
2025-06-04 17:23:47,509 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0, 60: 0.7059014146814716}
2025-06-04 17:23:47,510 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0, 60: 0.7059014146814716, 78: 0.0}
2025-06-04 17:23:47,510 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 95: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 60, 类型: <class 'int'>
2025-06-04 17:23:47,510 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 95: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 60
2025-06-04 17:23:47,526 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 95: Successfully processed choice for NH 60. END of try block.
2025-06-04 17:23:47,527 - WSN_Simulation - INFO - --- 第 41 轮结束 ---
2025-06-04 17:23:47,528 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 42)...
2025-06-04 17:23:47,983 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0042.png
2025-06-04 17:23:47,984 - WSN_Simulation - INFO - --- 开始第 42 轮  ---
2025-06-04 17:23:47,984 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:47,985 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
2025-06-04 17:23:49,448 - WSN_Simulation - INFO - Q学习选择CH阶段：0 个节点初次分配，12 个节点切换了CH。
2025-06-04 17:23:49,448 - WSN_Simulation - INFO - 开始阶段3：活跃CH通过Q学习选择下一跳...
2025-06-04 17:23:49,450 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 (Energy: 0.9971) 开始决策...
2025-06-04 17:23:49,451 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 评估有效候选 (Path: [97]):
2025-06-04 17:23:49,452 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 97 最终有效候选及Q值: {95: 7.137708161332237}
2025-06-04 17:23:49,453 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 97: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 95, 类型: <class 'int'>
2025-06-04 17:23:49,454 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 97: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 95
2025-06-04 17:23:49,474 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 97: Successfully processed choice for NH 95. END of try block.
2025-06-04 17:23:49,475 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 34 (Energy: 0.9955) 开始决策...
2025-06-04 17:23:49,475 - WSN_Simulation - WARNING - CH 34 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:23:49,476 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 64 (Energy: 0.9953) 开始决策...
2025-06-04 17:23:49,476 - WSN_Simulation - WARNING - CH 64 在所有尝试的通信范围内均未找到可达的下一跳。
2025-06-04 17:23:49,478 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 (Energy: 0.9877) 开始决策...
2025-06-04 17:23:49,479 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 评估有效候选 (Path: [29]):
2025-06-04 17:23:49,479 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 最终有效候选及Q值: {95: 3.2340944114106787}
2025-06-04 17:23:49,481 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 29 最终有效候选及Q值: {95: 3.2340944114106787, 97: 0.2925876239561433}
2025-06-04 17:23:49,482 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 29: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 95, 类型: <class 'int'>
2025-06-04 17:23:49,483 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 29: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 95
2025-06-04 17:23:49,499 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 29: Successfully processed choice for NH 95. END of try block.
2025-06-04 17:23:49,500 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 (Energy: 0.9800) 开始决策...
2025-06-04 17:23:49,501 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 评估有效候选 (Path: [89]):
2025-06-04 17:23:49,502 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 最终有效候选及Q值: {34: -3.145601072112106}
2025-06-04 17:23:49,502 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 89 最终有效候选及Q值: {34: -3.145601072112106, -1: 19.093024818941075}
2025-06-04 17:23:49,503 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 89: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 34, 类型: <class 'int'>
2025-06-04 17:23:49,504 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 89: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 34
2025-06-04 17:23:49,505 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 89: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 19.093024818941075
2025-06-04 17:23:49,506 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 89: BS (-1) 是有效候选但未被选择。最终选择: 34 (Type: CH)
2025-06-04 17:23:49,525 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 89: Successfully processed choice for NH 34. END of try block.
2025-06-04 17:23:49,526 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 (Energy: 0.9906) 开始决策...
2025-06-04 17:23:49,526 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 评估有效候选 (Path: [4]):
2025-06-04 17:23:49,528 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0}
2025-06-04 17:23:49,528 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0}
2025-06-04 17:23:49,529 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 4.4453252383748}
2025-06-04 17:23:49,530 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 4.4453252383748, 80: 0.0}
2025-06-04 17:23:49,531 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 4.4453252383748, 80: 0.0, 64: 0.0}
2025-06-04 17:23:49,533 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 4 最终有效候选及Q值: {78: 0.0, 12: 0.0, 65: 4.4453252383748, 80: 0.0, 64: 0.0, -1: 16.37052937513908}
2025-06-04 17:23:49,533 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 4: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = -1, 类型: <class 'int'>
2025-06-04 17:23:49,534 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 4: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = -1
2025-06-04 17:23:49,534 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 4: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 16.37052937513908
2025-06-04 17:23:49,535 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 4: *** 选择了BS (-1) ***
2025-06-04 17:23:49,558 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 4: Successfully processed choice for NH -1. END of try block.
2025-06-04 17:23:49,561 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 (Energy: 0.9888) 开始决策...
2025-06-04 17:23:49,576 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 评估有效候选 (Path: [60]):
2025-06-04 17:23:49,581 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 60 最终有效候选及Q值: {29: -2.7045446536713977}
2025-06-04 17:23:49,589 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 60: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 29, 类型: <class 'int'>
2025-06-04 17:23:49,593 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 60: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 29
2025-06-04 17:23:49,628 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 60: Successfully processed choice for NH 29. END of try block.
2025-06-04 17:23:49,629 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 (Energy: 0.9861) 开始决策...
2025-06-04 17:23:49,630 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 评估有效候选 (Path: [78]):
2025-06-04 17:23:49,631 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 1.8045462292477403}
2025-06-04 17:23:49,631 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 1.8045462292477403, 12: 0.0}
2025-06-04 17:23:49,633 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 1.8045462292477403, 12: 0.0, 13: 0.0}
2025-06-04 17:23:49,633 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 1.8045462292477403, 12: 0.0, 13: 0.0, -1: 0.0}
2025-06-04 17:23:49,634 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 1.8045462292477403, 12: 0.0, 13: 0.0, -1: 0.0, 97: -5.997707193930289}
2025-06-04 17:23:49,634 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 78 最终有效候选及Q值: {4: 1.8045462292477403, 12: 0.0, 13: 0.0, -1: 0.0, 97: -5.997707193930289, 64: 0.0}
2025-06-04 17:23:49,635 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 78: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 12, 类型: <class 'int'>
2025-06-04 17:23:49,635 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 78: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 12
2025-06-04 17:23:49,638 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 78: BS (-1) 是候选。路径有效性: True。Q(CH,BS): 0.0
2025-06-04 17:23:49,640 - WSN_Simulation - INFO - [BS_CHOICE_DEBUG] CH 78: BS (-1) 是有效候选但未被选择。最终选择: 12 (Type: DIRECT_BS_NODE)
2025-06-04 17:23:49,659 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 78: Successfully processed choice for NH 12. END of try block.
2025-06-04 17:23:49,660 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 (Energy: 0.9846) 开始决策...
2025-06-04 17:23:49,661 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 评估有效候选 (Path: [27]):
2025-06-04 17:23:49,662 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 27 最终有效候选及Q值: {60: 8.732348210250956}
2025-06-04 17:23:49,664 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 27: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 60, 类型: <class 'int'>
2025-06-04 17:23:49,665 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 27: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 60
2025-06-04 17:23:49,685 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 27: Successfully processed choice for NH 60. END of try block.
2025-06-04 17:23:49,685 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 (Energy: 0.9719) 开始决策...
2025-06-04 17:23:49,687 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 评估有效候选 (Path: [95]):
2025-06-04 17:23:49,688 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0}
2025-06-04 17:23:49,689 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0}
2025-06-04 17:23:49,691 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0, 60: 1.3248570820173733}
2025-06-04 17:23:49,692 - WSN_Simulation - INFO - [CH_DECISION_TRACE] CH 95 最终有效候选及Q值: {97: 0.0, 29: 0.0, 60: 1.3248570820173733, 78: 0.0}
2025-06-04 17:23:49,692 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 95: Epsilon-Greedy后，最终 chosen_next_hop_id_for_ch = 60, 类型: <class 'int'>
2025-06-04 17:23:49,693 - WSN_Simulation - INFO - [FINAL_CHOICE_DEBUG] CH 95: 进入了成功选择的IF块，chosen_next_hop_id_for_ch = 60
2025-06-04 17:23:49,709 - WSN_Simulation - INFO - [SUCCESS_BLOCK_TRACE] CH 95: Successfully processed choice for NH 60. END of try block.
2025-06-04 17:23:49,710 - WSN_Simulation - INFO - --- 第 42 轮结束 ---
2025-06-04 17:23:49,712 - WSN_Simulation - INFO - 可视化包含 100 个节点的网络拓扑 (轮次: 43)...
2025-06-04 17:23:50,203 - WSN_Simulation - INFO - 网络拓扑可视化已保存到 C:\vs_code\VScode-project\vs_py\Q_DEEC\reports\deec_topology\network_round_0043.png
2025-06-04 17:23:50,204 - WSN_Simulation - INFO - --- 开始第 43 轮  ---
2025-06-04 17:23:50,204 - WSN_Simulation - INFO - 识别出 5 个节点将直接与BS通信。
2025-06-04 17:23:50,206 - WSN_Simulation - INFO - 开始阶段2：普通节点Q学习选择簇头...
